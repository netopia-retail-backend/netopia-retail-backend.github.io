(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9292],{97822:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/price-lists/view",function(){return n(31870)}])},64534:function(e,s,n){"use strict";n.d(s,{k:function(){return r}});var a=n(85893),t=n(75210),r=function(e){var s=e.className,n=e.children;return(0,a.jsxs)("div",{className:"text-sm bg-background dark:bg-background-dark md:grid print:flex print:bg-white relative",id:"main",children:[(0,a.jsx)(t.v2,{}),(0,a.jsx)("main",{"data-scroll":"scroll",className:"p-2 md:p-4 lg:p-8 md:px-12 space-y-4 h-screen overflow-y-auto print:overflow-y-hidden overflow-x-visible print:h-auto print:p-0 print:space-y-0 ".concat(s),children:n})]})}},84601:function(e,s,n){"use strict";n.d(s,{qM:function(){return c},uh:function(){return m},ZY:function(){return _},BK:function(){return v}});var a=n(85893),t=n(67294),r=n(2428),i=n(41698),c=function(e){var s=e.guid,n=e.setLoading,c=(0,r.aM)("api/price-lists/".concat(s)),l=c.data,o=c.status,d=c.isLoading;(0,t.useEffect)((function(){n(d)}),[d]);var u=l||{},m="edit-price-list-".concat(o);return(0,a.jsx)(i.eL,{initialValues:u},m)},l=n(26042),o=n(69396),d=n(99534),u=n(75210),m=function(e){var s=e.options,n=(0,r.NS)("api/price-lists",s,{cacheTime:0}),t=n.data,i=(0,d.Z)(n,["data"]),c=i.isLoading,m=i.isError,p=i.isSuccess;return(0,a.jsxs)("div",{className:"flex-1 space-y-4",children:[c&&(0,a.jsx)(u.gb,{}),m&&(0,a.jsx)(u.jj,{}),p&&(0,a.jsx)(v,(0,o.Z)((0,l.Z)({},t),{options:s}),JSON.stringify(t)),p&&(0,a.jsx)(u.fr,(0,l.Z)({},i))]})},p=n(29815),h=n(4374),x=n(17067),f=n(27106),w=n(4058),j=n(17108),N=n(56070),v=function(e){var s=e.pages,n=(0,h.$)().t,i=(s||[]).reduce((function(e,s){return(0,p.Z)(e).concat((0,p.Z)(s))}),[]),c=(0,r.M_)().company,l=(0,t.useCallback)((function(e){var s=e.guid;return(0,a.jsxs)("div",{className:"render-action",children:[(0,a.jsx)(f.Z,{className:"render-action-btn text-primary",href:"/price-lists/view?guid=".concat(s),children:(0,a.jsx)("i",{className:"fas fa-eye"})}),(0,a.jsx)(f.Z,{className:"render-action-btn text-primary",href:"/price-lists/edit?guid=".concat(s),children:(0,a.jsx)("i",{className:"fas fa-pen"})}),(0,a.jsx)(w.vS,{guid:s,small:!0,api:"price-lists",removeFunction:x.h$,redirect:"/price-lists"})]})}),[c]),o=[{name:n("price-list.name"),field:"name",cellClassName:"whitespace-nowrap flex-1 sm:min-w-[18rem] pt-4 sm:pt-0",columnClassName:"whitespace-nowrap"},{name:n("company"),field:"company_name",cellClassName:"whitespace-nowrap sm:w-72",columnClassName:"whitespace-nowrap"},{name:n("products.title"),field:"productCount",cellClassName:"whitespace-nowrap sm:w-36 sm:text-right",columnClassName:"whitespace-nowrap"},{name:n("type"),cellClassName:"whitespace-nowrap sm:w-36 sm:text-right",columnClassName:"whitespace-nowrap",renderRecordCell:function(e){var s=e.type;return(0,a.jsxs)(a.Fragment,{children:[" ",n("price-list.".concat(s))]})}},{name:n("actions"),cellClassName:"whitespace-nowrap",columnClassName:"whitespace-nowrap sm:w-36 sm:text-center",renderRecordCell:l}];return(0,a.jsx)(a.Fragment,{children:0===(null===i||void 0===i?void 0:i.length)?(0,a.jsx)(j.Z,{}):(0,a.jsx)(N.Z,{columns:o,data:i,keyFunction:function(e){return e.guid}})})},g=n(50856),C=n(828),k=n(68100),Z=n(39736),b=function(e){var s=e.guid,n=(0,d.Z)(e,["guid"]),t=(0,h.$)().t,c=(0,C.Z)((0,r.dd)(),2),o=c[0],u=c[1];return(0,a.jsxs)("div",{className:"render-action",children:[(0,a.jsx)(f.Z,{className:"render-action-btn text-primary",onClick:function(){return u.show()},children:(0,a.jsx)("i",{className:"fas fa-pen"})}),(0,a.jsx)(Z.Z,{show:o,modal:u,title:t("products.edit"),modalClassName:"max-w-xl",children:(0,a.jsx)(i.zk,(0,l.Z)({hide:u.hide,guid:s},n))}),(0,a.jsx)(w.vS,{guid:s,small:!0,api:"price-list-products",removeFunction:k.kh})]})},_=function(e){var s=e.pages,n=(0,h.$)().t,r=(0,t.useCallback)((function(e){return(0,a.jsx)(b,(0,l.Z)({},e))}),[]),i=[{name:n("products.name"),field:"product_name",cellClassName:"whitespace-nowrap flex-1 sm:min-w-[18rem]",columnClassName:"whitespace-nowrap"},{name:n("products.unitM"),cellClassName:"whitespace-nowrap sm:text-end",columnClassName:"whitespace-nowrap",renderRecordCell:function(e){var s=e.unit_of_measure;return(0,a.jsx)(a.Fragment,{children:n("units.".concat(s))})}},{name:n("price-list.oldPrice"),field:"product_price",format:g.Lx,cellClassName:"whitespace-nowrap sm:text-end",columnClassName:"whitespace-nowrap"},{name:n("price-list.newPrice"),field:"price",format:g.Lx,cellClassName:"whitespace-nowrap sm:text-end sm:w-36",columnClassName:"whitespace-nowrap"},{name:n("actions"),cellClassName:"whitespace-nowrap text-center",columnClassName:"whitespace-nowrap",renderRecordCell:r}],c=(s||[]).reduce((function(e,s){return(0,p.Z)(e).concat((0,p.Z)(s))}),[]);return(0,a.jsx)(a.Fragment,{children:0===(null===c||void 0===c?void 0:c.length)?(0,a.jsx)(j.Z,{}):(0,a.jsx)(N.Z,{keyFunction:function(e){return e.product_guid},columns:i,data:c})})}},31870:function(e,s,n){"use strict";n.r(s);var a=n(47568),t=n(26042),r=n(828),i=n(34051),c=n.n(i),l=n(85893),o=n(67294),d=n(4374),u=n(17067),m=n(75210),p=n(70011),h=n(41698),x=n(76166),f=n(64534),w=n(39736),j=n(84601),N=n(2428);s.default=(0,m.EN)((function(e){var s=e.guid,n=(0,N.M_)({price_list_guid:s}),i=n.options,v=n.setOptions,g=(0,d.$)().t,C=(0,r.Z)((0,N.dd)(),2),k=C[0],Z=C[1],b=(0,r.Z)((0,N.dd)(),2),_=b[0],y=b[1],F=(0,o.useState)(),E=F[0],L=F[1],O=(0,o.useContext)(m.Il).userClaims;(0,o.useEffect)((0,a.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.hJ)(s);case 2:n=e.sent,L(n);case 4:case"end":return e.stop()}}),e)}))),[O]);var M=(0,o.useCallback)((function(e){v((function(s){return(0,t.Z)({},s,e)})),Z.hide()}),[]);return(0,l.jsxs)(f.k,{children:[(0,l.jsxs)(m.h4,{label:g("price-list.name"),name:E,btnLabel:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"sm:block hidden",children:g("addNew")}),(0,l.jsx)("i",{className:"fas fa-plus"})]}),onClick:function(){return y.show()},children:[(0,l.jsx)(p.ol,{classNameInput:"border-b-1",setOptions:v}),(0,l.jsx)(m.zx,{className:"button secondary dark:border-font-dark-variant dark:text-font-dark",onClick:function(){return Z.show()},children:(0,l.jsx)("i",{className:"fa-solid fa-sliders"})}),(0,l.jsx)(x.Z,{show:k,modal:Z,children:(0,l.jsx)(m.kI,{onFilters:M,children:function(e){var s=e.handleFilter,n=e.applyFilters;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex flex-col gap-10",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-sm text-white",children:g("filter")}),(0,l.jsx)("h3",{className:"title mt-2 text-white",children:g("categories.title")})]}),(0,l.jsx)(p.KM,{id:"categories-order",setOptions:s,addCustomOrder:!0})]}),(0,l.jsx)("div",{children:(0,l.jsx)(m.zx,{onClick:n,className:"filter-btn",children:g("applyFilters")})})]})}})})]}),(0,l.jsx)(w.Z,{show:_,modal:y,title:g("products.btnAdd"),modalClassName:"max-w-xl",children:(0,l.jsx)(h.BA,{hide:y.hide,price_list_guid:s})}),(0,l.jsx)(m.lk,{options:i,as:j.ZY,url:"api/price-list-products"})]})}))}},function(e){e.O(0,[9774,2888,179],(function(){return s=97822,e(e.s=s);var s}));var s=e.O();_N_E=s}]);