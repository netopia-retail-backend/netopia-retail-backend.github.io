(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9721],{10814:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pos-day-reports/view",function(){return n(77849)}])},64534:function(e,a,n){"use strict";n.d(a,{k:function(){return r}});var t=n(85893),s=n(10638),r=function(e){var a=e.className,n=e.children;return(0,t.jsxs)("div",{className:"text-sm bg-[#F2F6FB] dark:bg-slate-900 md:grid print:flex print:bg-white relative",id:"main",children:[(0,t.jsx)(s.v2,{}),(0,t.jsx)("main",{"data-scroll":"scroll",className:"p-2 md:p-4 lg:p-8 md:px-12 space-y-4 h-screen overflow-y-auto print:overflow-y-hidden overflow-x-visible print:h-auto print:p-0 print:space-y-0 ".concat(a),children:n})]})}},83599:function(e,a,n){"use strict";n.d(a,{ur:function(){return o},x7:function(){return p},HQ:function(){return j}});var t=n(29815),s=n(85893),r=n(67294),l=n(4374),c=n(50856),i=n(17108),m=n(56070),o=function(e){var a=e.pages,n=(0,l.$)().t,o=(0,r.useCallback)((function(e){var a=e.data;return(0,s.jsxs)("span",{children:[" ",a.cashierName]})}),[]),u=[{name:n("cashierName"),cellClassName:"whitespace-nowrap flex-1 sm:min-w-[18rem]",columnClassName:"whitespace-nowrap",renderRecordCell:o},{name:n("createdAt"),field:"created_at",format:c.vc,dateFormat:"dd/MM/yyyy",cellClassName:"whitespace-nowrap sm:w-48",columnClassName:"whitespace-nowrap text-right"},{name:n("location"),field:"location_name",cellClassName:"whitespace-nowrap flex-1 sm:min-w-[18rem]",columnClassName:"whitespace-nowrap"},{name:n("company"),field:"company_name",cellClassName:"whitespace-nowrap flex-1 sm:w-48",columnClassName:"whitespace-nowrap"},{name:n("amount"),field:"amount",format:c.Lx,cellClassName:"whitespace-nowrap sm:w-36 sm:text-right",columnClassName:"whitespace-nowrap"},{name:n("type"),field:"type",cellClassName:"whitespace-nowrap capitalize sm:w-36",columnClassName:"whitespace-nowrap"}],d=(a||[]).reduce((function(e,a){return(0,t.Z)(e).concat((0,t.Z)(a))}),[]);return(0,s.jsx)(s.Fragment,{children:0===(null===d||void 0===d?void 0:d.length)?(0,s.jsx)(i.Z,{}):(0,s.jsx)(m.Z,{keyFunction:function(e){return e.guid},columns:u,data:d})})},u=n(10638),d=n(27106),p=function(e){var a=e.pages,n=(0,l.$)().t,i=(0,r.useCallback)((function(e){var a=e.guid;return(0,s.jsx)(d.Z,{className:"render-action-btn text-primary",href:"/pos-day-reports/view?guid=".concat(a),children:(0,s.jsx)("i",{className:"fas fa-eye"})})}),[]),m=[{name:n("locations.name"),field:"location_name",cellClassName:"whitespace-nowrap flex-1 sm:min-w-[16rem]",columnClassName:"whitespace-nowrap"},{name:n("companies.name"),field:"company_name",cellClassName:"whitespace-nowrap flex-1 sm:min-w-[16rem]",columnClassName:"whitespace-nowrap"},{name:n("number"),field:"number",cellClassName:"whitespace-nowrap sm:w-36",columnClassName:"whitespace-nowrap"},{name:n("dateStart"),field:"date_start",format:c.vc,dateFormat:"dd/MM/yyyy",cellClassName:"whitespace-nowrap sm:w-46",columnClassName:"whitespace-nowrap"},{name:n("dateEnd"),field:"date_end",format:c.vc,dateFormat:"dd/MM/yyyy",cellClassName:"whitespace-nowrap sm:w-46",columnClassName:"whitespace-nowrap"},{name:n("amount"),field:"amount_total",format:c.Lx,cellClassName:"whitespace-nowrap sm:text-right sm:w-36",columnClassName:"whitespace-nowrap text-right"},{name:n("actions"),field:"number",cellClassName:"whitespace-nowrap sm:w-36",renderRecordCell:i}],o=(a||[]).reduce((function(e,a){return(0,t.Z)(e).concat((0,t.Z)(a))}),[]);return(0,s.jsx)(s.Fragment,{children:0===(null===o||void 0===o?void 0:o.length)?(0,s.jsx)(u.X6,{}):(0,s.jsx)(u.zI,{keyFunction:function(e){return e.guid},columns:m,data:o})})},w=n(26042),f=n(2428),h=n(32912),x=n(19013),y=n(13882);function v(e){if((0,y.Z)(1,arguments),"string"===typeof e){var a=e.match(/(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(?:\.(\d{0,7}))?(?:Z|(.)(\d{2}):?(\d{2})?)?/);return a?new Date(Date.UTC(+a[1],+a[2]-1,+a[3],+a[4]-(+a[9]||0)*("-"==a[8]?-1:1),+a[5]-(+a[10]||0)*("-"==a[8]?-1:1),+a[6],+((a[7]||"0")+"00").substring(0,3))):new Date(NaN)}return(0,x.default)(e)}var N=function(e){var a=e.documents_list,n=(0,l.$)().t,t=(0,r.useCallback)((function(e){var a=e.guid;return(0,s.jsx)(u.zx,{className:"render-action-btn text-primary",href:"/view-document?guid=".concat(a),children:(0,s.jsx)("i",{className:"fas fa-eye"})})}),[]),i=[{name:n("date"),cellClassName:"whitespace-nowrap sm:w-46 pt-4 sm:pt-0 flex-1",columnClassName:"whitespace-nowrap",renderRecordCell:function(e){var a=e.date;return(0,h.default)(v(a),"dd/MM/yyyy kk:mm:ss")}},{name:n("number"),field:"number",cellClassName:"whitespace-nowrap sm:w-36",columnClassName:"whitespace-nowrap"},{name:n("paymentMethod"),cellClassName:"whitespace-nowrap sm:min-w-48 flex-1",columnClassName:"whitespace-nowrap",renderRecordCell:function(e){var a=e.extra_data.paymentMethods;return(0,s.jsx)(s.Fragment,{children:a.map((function(e){return n("paymentMethods.".concat(e.name))})).join(" / ")})}},{name:n("amount"),field:"total",format:c.Lx,cellClassName:"whitespace-nowrap sm:w-36 sm:text-right",columnClassName:"whitespace-nowrap"},{name:n("actions"),cellClassName:"whitespace-nowrap",columnClassName:"whitespace-nowrap sm:w-36 sm:text-center",renderRecordCell:t}];return(0,s.jsx)(u.zI,{keyFunction:function(e){return e.guid},columns:i,data:a})},C=function(e){var a=e.created_at,n=e.documents_list,r=e.number,i=e.location_name,m=e.date_start,o=e.date_end,d=e.amount_total,p=e.device_unique_id,w=e.amounts_by_type,f=e.vat_breakdown,x=(0,l.$)().t,y=w?Object.keys(w).map((function(e){return{key:x("paymentMethods.".concat(e)),value:(0,c.Lx)(w[e])}})):[],C=f.map((function(e){var a=e.total,n=e.vat_rate,t=e.vat_sum;return[{key:(0,s.jsxs)(s.Fragment,{children:[x("valueTva")," ",n,"%"]}),value:(0,c.Lx)(a)},{key:(0,s.jsxs)(s.Fragment,{children:[x("vat")," ",n,"%"]}),value:t}]})).reduce((function(e,a){return(0,t.Z)(e).concat((0,t.Z)(a))}),[]),j=[{key:x("location"),value:i},{key:x("number"),value:r},{key:x("fiscalId"),value:p},{key:x("dateStart"),value:(0,h.default)(v(m),"dd/MM/yyyy kk:mm:ss")},{key:x("dateEnd"),value:(0,h.default)(v(o),"dd/MM/yyyy kk:mm:ss")}].concat((0,t.Z)(y),[{key:x("amount"),value:d}],(0,t.Z)(C));return(0,s.jsxs)("div",{className:"flex flex-col flex-1 gap-4",children:[(0,s.jsx)("div",{className:"flex flex-row w-full justify-between items-center",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"title dark:text-slate-200",children:[" ",x("zReport.title")]}),(0,s.jsx)(u.cs,{date:a,text:x("created")})]})}),(0,s.jsx)("div",{className:"flex sm:flex-row flex-col gap-4",children:(0,s.jsx)(u.gn,{title:x("details"),data:j})}),(0,s.jsx)(N,{documents_list:n})]})},j=function(e){var a=e.guid,n=(0,f.aM)("api/pos-day-reports/".concat(a)),t=n.data,r=n.status;return(0,s.jsxs)("div",{className:"flex",children:["loading"===r&&(0,s.jsx)(u.gb,{}),"error"===r&&(0,s.jsx)(u.jj,{}),"success"===r&&(0,s.jsx)(C,(0,w.Z)({},t))]})}},77849:function(e,a,n){"use strict";n.r(a);var t=n(85893),s=n(10638),r=n(64534),l=n(83599);a.default=(0,s.EN)((function(e){var a=e.guid;return(0,t.jsx)(r.k,{children:(0,t.jsx)(l.HQ,{guid:a})})}))}},function(e){e.O(0,[9774,2888,179],(function(){return a=10814,e(e.s=a);var a}));var a=e.O();_N_E=a}]);