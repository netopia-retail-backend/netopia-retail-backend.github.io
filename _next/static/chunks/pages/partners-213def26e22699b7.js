(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3195],{14136:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/partners",function(){return n(33444)}])},64534:function(e,a,n){"use strict";n.d(a,{k:function(){return s}});var r=n(85893),t=n(37566),s=function(e){var a=e.className,n=e.children;return(0,r.jsxs)("div",{className:"text-sm bg-background dark:bg-background-dark md:grid print:flex print:bg-white relative",id:"main",children:[(0,r.jsx)(t.v2,{}),(0,r.jsx)("main",{"data-scroll":"scroll",className:"p-2 md:p-4 lg:p-8 md:px-12 space-y-4 h-screen overflow-y-auto print:overflow-y-hidden overflow-x-visible print:h-auto print:p-0 print:space-y-0 ".concat(a),children:n})]})}},58421:function(e,a,n){"use strict";n.d(a,{KR:function(){return d},M5:function(){return v},Iy:function(){return y},Nj:function(){return g}});var r=n(85893),t=n(67294),s=n(96486),i=n(20704),c=function(e){try{return(0,s.pick)(e,Object.keys(i.oL))}catch(a){return{}}},l=n(2428),o=n(99446),d=function(e){var a=e.guid,n=e.setLoading,s=(0,l.aM)("api/partners/".concat(a)),i=s.data,d=s.status,u=s.isLoading;(0,t.useEffect)((function(){n(u)}),[u]);var p=c(i);(function(e){try{return JSON.parse(e.extra_data)}catch(a){return!1}})(i)&&(p.extra_data=JSON.parse(i.extra_data));var m="edit-partner-".concat(d);return(0,r.jsx)(o.T4,{data:i,initialValues:p},m)},u=n(29815),p=n(4374),m=n(25487),f=n(27106),x=n(67622),h=n(17108),j=n(56070),v=function(e){var a=e.pages,n=(0,p.$)().t,s=(0,l.M_)().company,i=t.useCallback((function(e){var a=e.guid,t=e.has_access;return(0,r.jsxs)("div",{className:"render-action",children:[(0,r.jsx)(f.Z,{className:"render-action-btn text-primary",href:"/partners/view?guid=".concat(a),children:(0,r.jsx)("i",{className:"fas fa-eye"})}),(0,r.jsx)(f.Z,{className:"text-base flex items-center justify-center rounded-full text-primary",href:"/partners/file?guid=".concat(a),title:n("partners.customerFile"),children:(0,r.jsx)("i",{className:"fas fa-file-invoice"})}),1==t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Z,{className:"render-action-btn text-primary",href:"/partners/edit?guid=".concat(a),children:(0,r.jsx)("i",{className:"fas fa-pen"})}),(0,r.jsx)(x.vS,{guid:a,small:!0,api:"partners",removeFunction:m.Y5,redirect:"/partners"})]})]})}),[s]),c=[{name:n("partners.name"),field:"name",cellClassName:"whitespace-nowrap flex-1 sm:min-w-[18rem]",columnClassName:"whitespace-nowrap"},{name:n("partners.type"),field:"type",cellClassName:"whitespace-nowrap sm:w-44",columnClassName:"whitespace-nowrap"},{name:n("companies.name"),field:"company_name",cellClassName:"whitespace-nowrap sm:w-44",columnClassName:"whitespace-nowrap"},{name:n("actions"),cellClassName:"whitespace-nowrap justify-between",columnClassName:"whitespace-nowrap sm:w-28",renderRecordCell:i}],o=(a||[]).reduce((function(e,a){return(0,u.Z)(e).concat((0,u.Z)(a))}),[]);return(0,r.jsx)(r.Fragment,{children:0===(null===o||void 0===o?void 0:o.length)?(0,r.jsx)(h.Z,{}):(0,r.jsx)(j.Z,{columns:c,data:o,keyFunction:function(e){return e.guid}})})},w=n(26042),N=n(37566),y=function(e){var a=e.guid,n=(0,l.aM)("api/partners/".concat(a)),t=n.data,s=n.status;return(0,r.jsxs)("div",{className:"flex",children:["loading"===s&&(0,r.jsx)(N.gb,{}),"error"===s&&(0,r.jsx)(N.jj,{}),"success"===s&&(0,r.jsx)(g,(0,w.Z)({},t))]})},g=function(e){var a=e.guid,n=e.name,t=e.company_name,s=e.type,i=e.created_at,c=e.extra_data,l=e.cui,o=e.email,d=e.phone,f=e.regcom,h=e.has_access,j=(0,p.$)().t,v=JSON.parse(c),w=Object.keys(v).map((function(e){return{key:j(e),value:j(v[e])}})),y=[{key:j("filters.type"),value:s},{key:j("companies.name"),value:t},{key:j("cui"),value:l},{key:j("regcom"),value:f},{key:j("phone"),value:d},{key:j("email"),value:o}].concat((0,u.Z)(w));return(0,r.jsxs)("div",{className:"flex flex-col flex-1 gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-row w-full justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"title dark:text-font-dark",children:j("partners.details")}),(0,r.jsx)(N.cs,{date:i,text:j("created")})]}),1==h&&(0,r.jsxs)("div",{className:"flex items-center space-x-2 justify-between py-5 ",children:[(0,r.jsx)(N.zx,{className:"button secondary dark:border-font-dark-variant dark:text-font-dark",href:"/partners/edit?guid=".concat(a),children:(0,r.jsx)("i",{className:"far fa-pen-to-square"})}),(0,r.jsx)(x.vS,{guid:a,api:"partners",removeFunction:m.Y5,redirect:"/partners"})]})]}),(0,r.jsx)("div",{className:"flex sm:flex-row flex-col gap-4",children:(0,r.jsx)(N.gn,{title:n,data:y})})]})}},33444:function(e,a,n){"use strict";n.r(a);var r=n(85893),t=n(4374),s=n(37566),i=n(47402),c=n(64534),l=n(58421),o=n(2428);a.default=function(){var e=(0,t.$)().t,a=(0,o.M_)({},"partners"),n=a.options,d=a.setOptions;return(0,r.jsxs)(c.k,{children:[(0,r.jsxs)(s.h4,{name:e("partners.title"),btnLabel:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"sm:block hidden",children:e("addNew")}),(0,r.jsx)("i",{className:"fas fa-plus"})]}),href:"/partners/add",children:[(0,r.jsx)(i.ol,{classNameInput:"border-b-1",className:"w-full pr-2",setOptions:d}),(0,r.jsx)(s.wn,{setOptions:d,options:n,id:"partners",title:e("partners.title"),filters:{order:!0,partner_type:!0}})]}),(0,r.jsx)(s.lk,{options:n,as:l.M5,url:"api/partners"})]})}}},function(e){e.O(0,[9774,2888,179],(function(){return a=14136,e(e.s=a);var a}));var a=e.O();_N_E=a}]);