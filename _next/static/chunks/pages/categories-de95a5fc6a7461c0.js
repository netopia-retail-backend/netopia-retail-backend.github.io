(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3161],{85190:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/categories",function(){return n(28582)}])},35948:function(e,t,n){"use strict";n.d(t,{d:function(){return w},C:function(){return N}});var a=n(828),r=n(29815),s=n(85893),i=n(80454),c=n.n(i),o=n(67294),l=n(4374),u=n(94261),d=n(2428),p=n(27106),m=n(5477),f=n(17108),g=n(42337),h=n(56070),w=function(e){var t=e.pages,n=e.options,i=(0,l.$)().t,w=(0,d.M_)().company,x=(t||[]).reduce((function(e,t){return(0,r.Z)(e).concat((0,r.Z)(t))}),[]),v=(0,a.Z)(o.useState(x),2),N=v[0],j=v[1],_=o.useRef();(0,o.useEffect)((function(){"order_index"===n.sort&&_.current&&((0,u.lP)(N),_.current=!1)}),[N]);var b=o.useCallback((function(e){var t=e.guid,n=e.has_access;return(0,s.jsxs)("div",{className:"render-action",children:[(0,s.jsx)(p.Z,{className:"render-action-btn text-primary",title:i("categories.view"),href:"/categories/view?guid=".concat(t),children:(0,s.jsx)("i",{className:"fas fa-shopping-bag"})}),!0===n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.Z,{className:"render-action-btn text-primary",href:"/categories/edit?guid=".concat(t),children:(0,s.jsx)("i",{className:"fas fa-pen"})}),(0,s.jsx)(m.Z,{guid:t,api:"product-categories",small:!0,redirect:"/categories",removeFunction:u.sT})]})]})}),[w]),k=[{name:i("categories.name"),cellClassName:"whitespace-nowrap flex-1 sm:min-w-[18rem] pt-4 sm:pt-0",columnClassName:"whitespace-nowrap",renderRecordCell:function(e){var t=e.guid,n=e.name;return(0,s.jsx)(p.Z,{title:i("categories.view"),href:"/categories/view?guid=".concat(t),children:n})}},{name:i("companies.name"),field:"company_name",cellClassName:"whitespace-nowrap sm:w-72",columnClassName:"whitespace-nowrap"},{name:i("products.title"),field:"productCount",cellClassName:"whitespace-nowrap sm:w-36 sm:text-right",columnClassName:"whitespace-nowrap"},{name:i("actions"),cellClassName:"whitespace-nowrap",columnClassName:"whitespace-nowrap sm:w-36 sm:text-center",renderRecordCell:b}],C="order_index"===n.sort?g.Z:h.Z;return(0,s.jsxs)(s.Fragment,{children:[0===(null===x||void 0===x?void 0:x.length)?(0,s.jsx)(f.Z,{}):(0,s.jsx)(C,{columns:k,data:x,renderActions:b,items:N,keyFunction:function(e){return e.guid+e.location_guid},onSortEnd:function(e,t){j((function(n){return c()(n,e,t)})),_.current=!0}})," "]})},x=n(84254),v=n(99446),N=function(e){var t=e.guid,n=e.setLoading,a=(0,d.aM)("api/product-categories/".concat(t)),r=a.data,i=a.status,c=a.isLoading;(0,o.useEffect)((function(){n(c)}),[c]);var l=r||{};(0,x.Rw)(r)&&(l.media=(0,x.om)(r));var u="edit-category-".concat(i);return(0,s.jsx)(v.BE,{initialValues:l},u)}},64534:function(e,t,n){"use strict";n.d(t,{k:function(){return s}});var a=n(85893),r=n(37566),s=function(e){var t=e.className,n=e.children;return(0,a.jsxs)("div",{className:"text-sm bg-background dark:bg-background-dark md:grid print:flex print:bg-white relative",id:"main",children:[(0,a.jsx)(r.v2,{}),(0,a.jsx)("main",{"data-scroll":"scroll",className:"p-2 md:p-4 lg:p-8 md:px-12 space-y-4 h-screen overflow-y-auto print:overflow-y-hidden overflow-x-visible print:h-auto print:p-0 print:space-y-0 ".concat(t),children:n})]})}},28582:function(e,t,n){"use strict";n.r(t);var a=n(85893),r=n(4374),s=n(37566),i=n(35948),c=n(47402),o=n(64534),l=n(2428);t.default=function(){var e=(0,l.M_)({},"categories"),t=e.options,n=e.setOptions,u=(0,r.$)().t;return(0,a.jsxs)(o.k,{children:[(0,a.jsxs)(s.Ax,{links:[{name:u("categories.pluralTitle"),href:"/categories"},{name:u("products.title"),href:"/products"},{name:u("price-list.title"),href:"/price-lists"}],activeLink:"/categories",btnLabel:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"sm:block hidden",children:u("addNew")}),(0,a.jsx)("i",{className:"fas fa-plus"})]}),name:u("categories.pluralTitle"),href:"/categories/add",children:[(0,a.jsx)(c.ol,{classNameInput:"border-b-1",setOptions:n}),(0,a.jsx)(s.wn,{setOptions:n,options:t,id:"categories",title:u("categories.pluralTitle"),filters:{order:{customOrder:!0}}})]}),(0,a.jsx)(s.lk,{options:t,as:i.d,url:"api/product-categories",queryConfig:{cacheTime:0}})]})}}},function(e){e.O(0,[9774,2888,179],(function(){return t=85190,e(e.s=t);var t}));var t=e.O();_N_E=t}]);