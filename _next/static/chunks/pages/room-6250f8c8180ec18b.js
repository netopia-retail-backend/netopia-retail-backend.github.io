(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5635],{11882:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/room",function(){return a(4177)}])},64534:function(e,s,a){"use strict";a.d(s,{k:function(){return i}});var t=a(85893),n=a(55695),i=function(e){var s=e.className,a=e.children;return(0,t.jsxs)("div",{className:"text-sm bg-[#F2F6FB] dark:bg-slate-900 md:grid print:flex print:bg-white relative",id:"main",children:[(0,t.jsx)(n.v2,{}),(0,t.jsx)("main",{"data-scroll":"scroll",className:"p-2 md:p-4 lg:p-8 md:px-12 space-y-4 h-screen overflow-y-auto print:overflow-y-hidden overflow-x-visible print:h-auto print:p-0 print:space-y-0 ".concat(s),children:a})]})}},66432:function(e,s,a){"use strict";a.d(s,{TI:function(){return v},$q:function(){return g},uK:function(){return N},W7:function(){return j}});var t=a(85893),n=a(55695),i=a(26042),r=a(99534),c=a(61503),l=a(4374),o=a(61193),d=a.n(o),x=a(96565),u=a(25230),m=a(8379),p=function(e){var s=e.guid,a=e.name,n=e.extra_data,i=(0,l.$)().t,r=(0,c.Db)("api/restaurant-tables",x.qB,{success:i("restaurant.removeTableSuccess"),successCallback:function(){(0,m.$X)("count.tables")},errorCallback:function(e){u.mv.error(i("err.".concat(e.message)))}}),o=(0,c.Db)("api/restaurant-tables",x.T0,{});return(0,t.jsx)(d(),{bounds:"parent",grid:[24,24],defaultPosition:{x:n.x,y:n.y},onStop:function(e,a){var t={extra_data:{table_type:n.table_type,x:a.x,y:a.y},guid:s};o.mutate(t)},handle:".move",children:(0,t.jsx)("div",{className:"w-40 inline-block absolute",children:(0,t.jsxs)("div",{className:" p-3 flex flex-col justify-center align-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{className:"text-red-400 text-xl float-right",onClick:function(){r.mutate(s)},children:(0,t.jsx)("i",{className:"fas fa-times-circle"})}),(0,t.jsx)("span",{className:"move float-left text-xl",children:(0,t.jsx)("i",{className:"fas fa-arrows-alt"})})]}),(0,t.jsx)("img",{src:n.table_type?"/images/table".concat(n.table_type,".png "):"/images/table2.png"}),(0,t.jsx)("span",{className:"text-xl text-center",children:a})]})})})},f=a(46521),h=a(75273),j=function(e){var s=e.company_name,a=e.company_guid,o=e.room_guid,d=e.pages,u=(0,l.$)().t,m=(0,c.aM)("api/restaurant-rooms/".concat(o)),j=m.data,v=m.status,g=600,N=1500;j&&(g=j.extra_data.height,N=j.extra_data.width);var b=j||{},y="edit-room-".concat(v),_=function(e){var s=e.guid,a=(0,r.Z)(e,["guid"]);return(0,t.jsx)(p,(0,i.Z)({guid:s},a),s)};return(0,t.jsxs)("div",{className:"flex flex-col w-full space-y-4",children:[(0,t.jsx)("div",{className:"box flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:(0,t.jsxs)("div",{className:"space-y-4 flex-1 w-full",children:[(0,t.jsx)("div",{className:"md:bg-white md:rounded md:shadow md:px-6 md:py-6 lg:col-span-2",children:(0,t.jsx)(f.qS,{initialValues:b},y)}),(0,t.jsx)("div",{className:"my-2",children:(0,t.jsxs)("div",{className:"flex flex-wrap items-center",children:[(0,t.jsx)("p",{className:"mr-2",children:s}),(0,t.jsx)(n.rU,{href:"/companies/view?guid=".concat(a),children:(0,t.jsx)("a",{className:"text-xs text-gray-500 underline",children:u("companies.viewComp")})})]})}),(0,t.jsxs)("div",{className:"my-2",children:[(0,t.jsx)(f.jo,{room_guid:o}),(0,t.jsx)("div",{id:"parent",className:"relative my-8 gap-2 overflow-auto w-full",children:(0,t.jsx)("div",{className:"bg-gray-100",style:{height:"".concat(g,"px"),width:"".concat(N,"px")},children:d.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(_)}))})})]})]})}),(0,t.jsx)("div",{className:"self-end",children:(0,t.jsx)(h.vS,{guid:o,small:!0,api:"restaurant-rooms",redirect:"/room",removeFunction:x.jr})})]})},v=function(e){var s=e.options,a=(0,c.NS)("api/restaurant-rooms",s),l=a.data,o=(0,r.Z)(a,["data"]),d=o.isLoading,x=o.isError,u=o.isSuccess;return(0,t.jsxs)("div",{className:"flex-1 space-y-4",children:[d&&(0,t.jsx)(n.gb,{}),x&&(0,t.jsx)(n.jj,{}),u&&(0,t.jsx)(j,(0,i.Z)({},l)),u&&(0,t.jsx)(n.fr,(0,i.Z)({},o))]})},g=function(e){var s=e.company,a=e.options,n=(0,l.$)().t;return(0,t.jsx)(t.Fragment,{children:s?(0,t.jsx)(v,{options:a}):(0,t.jsx)("p",{className:"text-gray-800",children:n("locations.noShow")})})},N=function(e){var s=e.room_guid,a=(0,c.M_)({room_guid:s}),l=a.company,o=a.options,d=(0,c.NS)("api/restaurant-tables",o),x=d.data,u=(0,r.Z)(d,["data"]),m=u.isLoading,p=u.isError,f=u.isSuccess;return(0,t.jsxs)("div",{className:"flex",children:[m&&(0,t.jsx)(n.gb,{}),p&&(0,t.jsx)(n.jj,{}),f&&(0,t.jsx)(j,(0,i.Z)({company_name:l.name,company_guid:l.guid,room_guid:s,options:o},x))]})}},4177:function(e,s,a){"use strict";a.r(s);var t=a(26042),n=a(828),i=a(85893),r=a(67294),c=a(4374),l=a(55695),o=a(34913),d=a(76166),x=a(64534),u=a(66432),m=a(61503);s.default=function(){var e=(0,c.$)().t,s=(0,m.M_)(),a=s.company,p=s.options,f=s.setOptions,h=(0,n.Z)((0,m.dd)(),2),j=h[0],v=h[1],g=(0,r.useCallback)((function(e){f((function(s){return(0,t.Z)({},s,e)})),v.hide()}),[]);return(0,i.jsxs)(x.k,{children:[(0,i.jsxs)(l.h4,{btnLabel:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"sm:block hidden",children:e("addNew")}),(0,i.jsx)("i",{className:"fas fa-plus"})]}),name:e("restaurant.title"),href:"/room/add",children:[(0,i.jsx)(l.zx,{className:"button secondary dark:border-slate-600 dark:text-slate-200",onClick:function(){return v.show()},children:(0,i.jsx)("i",{className:"fa-solid fa-sliders"})}),(0,i.jsxs)(d.Z,{show:j,modal:v,children:[(0,i.jsxs)("div",{className:"flex flex-col gap-10",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-sm text-white",children:e("filter")}),(0,i.jsx)("h3",{className:"title mt-2 text-white",children:e("companies.title")})]})," ",(0,i.jsx)(o.kT,{setOptions:f}),(0,i.jsx)(o.KM,{id:"locations-order",setOptions:f})]}),(0,i.jsx)("div",{children:(0,i.jsx)(l.zx,{onClick:g,className:"filter-btn",children:e("applyFilters")})})]})]}),(0,i.jsx)(u.$q,{company:a,options:p})]})}}},function(e){e.O(0,[9774,2888,179],(function(){return s=11882,e(e.s=s);var s}));var s=e.O();_N_E=s}]);