(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8742],{40127:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/room/view",function(){return s(152)}])},64534:function(e,a,s){"use strict";s.d(a,{k:function(){return n}});var t=s(85893),r=s(88194),n=function(e){var a=e.className,s=e.children;return(0,t.jsxs)("div",{className:"text-sm bg-[#F2F6FB] md:grid print:flex print:bg-white relative",id:"main",children:[(0,t.jsx)(r.v2,{}),(0,t.jsx)("main",{"data-scroll":"scroll",className:"p-2 md:p-4 lg:p-8 md:px-12 space-y-4 h-screen overflow-y-auto print:overflow-y-hidden overflow-x-visible print:h-auto print:p-0 print:space-y-0 ".concat(a),children:s})]})}},66432:function(e,a,s){"use strict";s.d(a,{TI:function(){return h},$q:function(){return v},uK:function(){return g},W7:function(){return j}});var t=s(85893),r=s(88194),n=s(26042),i=s(99534),c=s(61503),l=s(4374),o=s(61193),d=s.n(o),u=s(96565),x=s(8379),m=function(e){var a=e.guid,s=e.name,r=e.extra_data,n=(0,l.$)().t,i=(0,c.Db)("api/restaurant-tables",u.qB,{success:n("restaurant.removeTableSuccess"),error:n("restaurant.removeTableError"),redirect:"",successCallback:function(){(0,x.$X)("count.tables")}}),o=(0,c.Db)("api/restaurant-tables",u.T0,{});return(0,t.jsx)(d(),{bounds:"parent",grid:[24,24],defaultPosition:{x:r.x,y:r.y},onStop:function(e,s){var t={extra_data:{table_type:r.table_type,x:s.x,y:s.y},guid:a};o.mutate(t)},handle:".move",children:(0,t.jsx)("div",{className:"w-40 inline-block absolute",children:(0,t.jsxs)("div",{className:" p-3 flex flex-col justify-center align-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{className:"text-red-400 text-xl float-right",onClick:function(){i.mutate(a)},children:(0,t.jsx)("i",{className:"fas fa-times-circle"})}),(0,t.jsx)("span",{className:"move float-left text-xl",children:(0,t.jsx)("i",{className:"fas fa-arrows-alt"})})]}),(0,t.jsx)("img",{src:r.table_type?"/images/table".concat(r.table_type,".png "):"/images/table2.png"}),(0,t.jsx)("span",{className:"text-xl text-center",children:s})]})})})},p=s(60764),f=s(89315),j=function(e){var a=e.company_name,s=e.company_guid,o=e.room_guid,d=e.pages,x=(0,l.$)().t,j=(0,c.aM)("api/restaurant-rooms/".concat(o)),h=j.data,v=j.status,g=600,N=1500;h&&(g=h.extra_data.height,N=h.extra_data.width);var y=h||{},_="edit-room-".concat(v),b=function(e){var a=e.guid,s=(0,i.Z)(e,["guid"]);return(0,t.jsx)(m,(0,n.Z)({guid:a},s),a)};return(0,t.jsxs)("div",{className:"flex flex-col w-full space-y-4",children:[(0,t.jsx)("div",{className:"box flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:(0,t.jsxs)("div",{className:"space-y-4 flex-1 w-full",children:[(0,t.jsx)("div",{className:"md:bg-white md:rounded-lg md:shadow md:px-6 md:py-6 lg:col-span-2",children:(0,t.jsx)(p.qS,{initialValues:y},_)}),(0,t.jsx)("div",{className:"my-2",children:(0,t.jsxs)("div",{className:"flex flex-wrap items-center",children:[(0,t.jsx)("p",{className:"mr-2",children:a}),(0,t.jsx)(r.rU,{href:"/companies/view?guid=".concat(s),children:(0,t.jsx)("a",{className:"text-xs text-gray-500 underline",children:x("companies.viewComp")})})]})}),(0,t.jsxs)("div",{className:"my-2",children:[(0,t.jsx)(p.jo,{room_guid:o}),(0,t.jsx)("div",{id:"parent",className:"relative my-8 gap-2 overflow-auto w-full",children:(0,t.jsx)("div",{className:"bg-gray-100",style:{height:"".concat(g,"px"),width:"".concat(N,"px")},children:d.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(b)}))})})]})]})}),(0,t.jsx)("div",{className:"self-end",children:(0,t.jsx)(f.vS,{guid:o,small:!0,api:"restaurant-rooms",redirect:"/room",removeFunction:u.jr})})]})},h=function(e){var a=e.options,s=(0,c.NS)("api/restaurant-rooms",a),l=s.data,o=(0,i.Z)(s,["data"]),d=o.isLoading,u=o.isError,x=o.isSuccess;return(0,t.jsxs)("div",{className:"flex-1 space-y-4",children:[d&&(0,t.jsx)(r.gb,{}),u&&(0,t.jsx)(r.jj,{}),x&&(0,t.jsx)(j,(0,n.Z)({},l)),x&&(0,t.jsx)(r.fr,(0,n.Z)({},o))]})},v=function(e){var a=e.company,s=e.options,r=(0,l.$)().t;return(0,t.jsx)(t.Fragment,{children:a?(0,t.jsx)(h,{options:s}):(0,t.jsx)("p",{className:"text-gray-800",children:r("locations.noShow")})})},g=function(e){var a=e.room_guid,s=(0,c.M_)({room_guid:a}),l=s.company,o=s.options,d=(0,c.NS)("api/restaurant-tables",o),u=d.data,x=(0,i.Z)(d,["data"]),m=x.isLoading,p=x.isError,f=x.isSuccess;return(0,t.jsxs)("div",{className:"flex",children:[m&&(0,t.jsx)(r.gb,{}),p&&(0,t.jsx)(r.jj,{}),f&&(0,t.jsx)(j,(0,n.Z)({company_name:l.name,company_guid:l.guid,room_guid:a,options:o},u))]})}},152:function(e,a,s){"use strict";s.r(a);var t=s(85893),r=s(4374),n=s(88194),i=s(64534),c=s(66432);a.default=(0,n.EN)((function(e){var a=e.guid,s=(0,r.$)().t;return(0,t.jsxs)(i.k,{children:[(0,t.jsx)(n.eJ,{to:"/room",children:s("restaurant.back")}),(0,t.jsx)(c.uK,{room_guid:a})]})}))}},function(e){e.O(0,[9774,2888,179],(function(){return a=40127,e(e.s=a);var a}));var a=e.O();_N_E=a}]);