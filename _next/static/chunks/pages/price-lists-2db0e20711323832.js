(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4089],{94671:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/price-lists",function(){return n(61095)}])},64534:function(e,s,n){"use strict";n.d(s,{k:function(){return i}});var a=n(85893),t=n(37566),i=function(e){var s=e.className,n=e.children;return(0,a.jsxs)("div",{className:"text-sm bg-background dark:bg-background-dark md:grid print:flex print:bg-white relative",id:"main",children:[(0,a.jsx)(t.v2,{}),(0,a.jsx)("main",{"data-scroll":"scroll",className:"p-2 md:p-4 lg:p-8 md:px-12 space-y-4 h-screen overflow-y-auto print:overflow-y-hidden overflow-x-visible print:h-auto print:p-0 print:space-y-0 ".concat(s),children:n})]})}},84601:function(e,s,n){"use strict";n.d(s,{qM:function(){return c},uh:function(){return d},ZY:function(){return b},BK:function(){return g}});var a=n(85893),t=n(67294),i=n(2428),r=n(99446),c=function(e){var s=e.guid,n=e.setLoading,c=(0,i.aM)("api/price-lists/".concat(s)),l=c.data,o=c.status,u=c.isLoading;(0,t.useEffect)((function(){n(u)}),[u]);var p=l||{},d="edit-price-list-".concat(o);return(0,a.jsx)(r.eL,{initialValues:p},d)},l=n(26042),o=n(69396),u=n(99534),p=n(37566),d=function(e){var s=e.options,n=(0,i.NS)("api/price-lists",s,{cacheTime:0}),t=n.data,r=(0,u.Z)(n,["data"]),c=r.isLoading,d=r.isError,m=r.isSuccess;return(0,a.jsxs)("div",{className:"flex-1 space-y-4",children:[c&&(0,a.jsx)(p.gb,{}),d&&(0,a.jsx)(p.jj,{}),m&&(0,a.jsx)(g,(0,o.Z)((0,l.Z)({},t),{options:s}),JSON.stringify(t)),m&&(0,a.jsx)(p.fr,(0,l.Z)({},r))]})},m=n(29815),f=n(4374),h=n(17067),w=n(27106),x=n(67622),N=n(17108),j=n(56070),g=function(e){var s=e.pages,n=(0,f.$)().t,r=(s||[]).reduce((function(e,s){return(0,m.Z)(e).concat((0,m.Z)(s))}),[]),c=(0,i.M_)().company,l=(0,t.useCallback)((function(e){var s=e.guid;return(0,a.jsxs)("div",{className:"render-action",children:[(0,a.jsx)(w.Z,{className:"render-action-btn text-primary",href:"/price-lists/view?guid=".concat(s),children:(0,a.jsx)("i",{className:"fas fa-eye"})}),(0,a.jsx)(w.Z,{className:"render-action-btn text-primary",href:"/price-lists/edit?guid=".concat(s),children:(0,a.jsx)("i",{className:"fas fa-pen"})}),(0,a.jsx)(x.vS,{guid:s,small:!0,api:"price-lists",removeFunction:h.h$,redirect:"/price-lists"})]})}),[c]),o=[{name:n("price-list.name"),field:"name",cellClassName:"whitespace-nowrap flex-1 sm:min-w-[18rem] pt-4 sm:pt-0",columnClassName:"whitespace-nowrap"},{name:n("company"),field:"company_name",cellClassName:"whitespace-nowrap sm:w-72",columnClassName:"whitespace-nowrap"},{name:n("products.title"),field:"productCount",cellClassName:"whitespace-nowrap sm:w-36 sm:text-right",columnClassName:"whitespace-nowrap"},{name:n("filters.type"),cellClassName:"whitespace-nowrap sm:w-36 sm:text-right",columnClassName:"whitespace-nowrap",renderRecordCell:function(e){var s=e.type;return(0,a.jsxs)(a.Fragment,{children:[" ",n("price-list.".concat(s))]})}},{name:n("actions"),cellClassName:"whitespace-nowrap",columnClassName:"whitespace-nowrap sm:w-36 sm:text-center",renderRecordCell:l}];return(0,a.jsx)(a.Fragment,{children:0===(null===r||void 0===r?void 0:r.length)?(0,a.jsx)(N.Z,{}):(0,a.jsx)(j.Z,{columns:o,data:r,keyFunction:function(e){return e.guid}})})},v=n(88379),C=n(828),Z=n(68100),k=n(39736),_=function(e){var s=e.guid,n=(0,u.Z)(e,["guid"]),t=(0,f.$)().t,c=(0,C.Z)((0,i.dd)(),2),o=c[0],p=c[1];return(0,a.jsxs)("div",{className:"render-action",children:[(0,a.jsx)(w.Z,{className:"render-action-btn text-primary",onClick:function(){return p.show()},children:(0,a.jsx)("i",{className:"fas fa-pen"})}),(0,a.jsx)(k.Z,{show:o,modal:p,title:t("products.edit"),modalClassName:"max-w-xl",children:(0,a.jsx)(r.zk,(0,l.Z)({hide:p.hide,guid:s},n))}),(0,a.jsx)(x.vS,{guid:s,small:!0,api:"price-list-products",removeFunction:Z.kh})]})},b=function(e){var s=e.pages,n=(0,f.$)().t,i=(0,t.useCallback)((function(e){return(0,a.jsx)(_,(0,l.Z)({},e))}),[]),r=[{name:n("products.name"),field:"product_name",cellClassName:"whitespace-nowrap flex-1 sm:min-w-[18rem]",columnClassName:"whitespace-nowrap"},{name:n("products.unitM"),cellClassName:"whitespace-nowrap sm:text-end",columnClassName:"whitespace-nowrap",renderRecordCell:function(e){var s=e.unit_of_measure;return(0,a.jsx)(a.Fragment,{children:n("units.".concat(s))})}},{name:n("price-list.oldPrice"),field:"product_price",format:v.Lx,cellClassName:"whitespace-nowrap sm:text-end",columnClassName:"whitespace-nowrap"},{name:n("price-list.newPrice"),field:"price",format:v.Lx,cellClassName:"whitespace-nowrap sm:text-end sm:w-36",columnClassName:"whitespace-nowrap"},{name:n("actions"),cellClassName:"whitespace-nowrap text-center",columnClassName:"whitespace-nowrap",renderRecordCell:i}],c=(s||[]).reduce((function(e,s){return(0,m.Z)(e).concat((0,m.Z)(s))}),[]);return(0,a.jsx)(a.Fragment,{children:0===(null===c||void 0===c?void 0:c.length)?(0,a.jsx)(N.Z,{}):(0,a.jsx)(j.Z,{keyFunction:function(e){return e.product_guid},columns:r,data:c})})}},61095:function(e,s,n){"use strict";n.r(s);var a=n(85893),t=n(4374),i=n(37566),r=n(47402),c=n(64534),l=n(84601),o=n(2428);s.default=function(){var e=(0,o.M_)(),s=e.options,n=e.setOptions,u=(0,t.$)().t;return(0,a.jsxs)(c.k,{children:[(0,a.jsxs)(i.Ax,{links:[{name:u("categories.pluralTitle"),href:"/categories"},{name:u("products.title"),href:"/products"},{name:u("price-list.title"),href:"/price-lists"}],activeLink:"/price-lists",btnLabel:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"sm:block hidden",children:u("addNew")}),(0,a.jsx)("i",{className:"fas fa-plus"})]}),name:u("categories.pluralTitle"),href:"/price-lists/add",children:[(0,a.jsx)(r.ol,{classNameInput:"border-b-1",setOptions:n}),(0,a.jsx)(i.wn,{setOptions:n,options:s,id:"price-list",title:u("price-list.title"),filters:{order:!0}})]}),(0,a.jsx)(l.uh,{options:s})]})}}},function(e){e.O(0,[9774,2888,179],(function(){return s=94671,e(e.s=s);var s}));var s=e.O();_N_E=s}]);