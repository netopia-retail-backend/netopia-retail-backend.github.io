(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3922],{44515:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manufacture/view",function(){return n(88297)}])},30807:function(e,t,n){"use strict";n.d(t,{j:function(){return u}});var r=n(47568),a=n(34051),s=n.n(a),c=n(47715),i=n(32809),u=function(){var e=(0,r.Z)(s().mark((function e(t,n){var r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.o.get("api/".concat(t,"/pdf/").concat(n),{responseType:"blob"});case 2:r=e.sent,a=r.headers["content-disposition"].split("filename=")[1],(0,i.S)(r.data,a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},64534:function(e,t,n){"use strict";n.d(t,{k:function(){return s}});var r=n(85893),a=n(88194),s=function(e){var t=e.className,n=e.children;return(0,r.jsxs)("div",{className:"text-sm bg-[#F2F6FB] md:grid print:flex print:bg-white relative",id:"main",children:[(0,r.jsx)(a.v2,{}),(0,r.jsx)("main",{"data-scroll":"scroll",className:"p-2 md:p-4 lg:p-8 md:px-12 space-y-4 h-screen overflow-y-auto print:overflow-y-hidden overflow-x-visible print:h-auto print:p-0 print:space-y-0 ".concat(t),children:n})]})}},88297:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(85893),a=n(88194),s=n(64534),c=n(47568),i=n(34051),u=n.n(i),o=n(67294),l=n(4374),f=n(30807),d=n(44443),m=n(89315),p=n(15194),x=function(e){var t=e.guid,n=e.created_at,s=e.html,i=e.status,x=(0,l.$)().t,h=(0,o.useState)(!1),v=h[0],w=h[1],j=(0,o.useCallback)((0,c.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=11;break}return w(!0),e.prev=2,e.next=5,(0,f.j)("manufacture-document",t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:w(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])}))),[t,v]);return(0,r.jsxs)("div",{className:"flex flex-col w-full space-y-4",children:[(0,r.jsxs)("div",{className:"flex flex-row w-full justify-between items-center print:hidden",children:[(0,r.jsx)(p.$4,{title:x("manufacture.title"),created_at:n,status:i}),(0,r.jsxs)("div",{className:"flex items-center justify-between space-x-2 print:hidden",children:[(0,r.jsx)(a.zx,{className:"button secondary",title:x("documents.print"),onClick:function(){return window.frames.manufacture_frame.contentWindow.postMessage("print","*")},children:(0,r.jsx)("i",{className:"fas fa-print"})}),(0,r.jsx)(a.zx,{className:"button secondary",title:"PDF",onClick:j,children:(0,r.jsx)("i",{className:v?"fas fa-spinner animate-spin":"fas fa-file-pdf cursor-pointer"})}),"issued"!==i&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.zx,{className:"button secondary",title:x("documents.edit"),href:"/manufacture/edit?guid=".concat(t),children:(0,r.jsx)("i",{className:"far fa-pen-to-square"})}),(0,r.jsx)(m.vS,{guid:t,api:"manufacture-documents",removeFunction:d.ml,redirect:"/manufacture"})]})]})]}),(0,r.jsx)("div",{className:"box space-y-4 bg-white print:border-none flex items-center justify-center w-[calc(210mm+4rem)] h-[calc(297mm+4rem)]",children:(0,r.jsx)("iframe",{id:"manufacture_frame",src:"data:text/html;charset=utf-8,"+encodeURIComponent(s),className:"w-full h-full"})})]})},h=(0,a.EN)((function(e){var t=e.guid;return(0,r.jsx)(s.k,{children:(0,r.jsx)(a.zz,{guid:t,type:"manufacture-documents",as:x})})}))}},function(e){e.O(0,[9774,2888,179],(function(){return t=44515,e(e.s=t);var t}));var t=e.O();_N_E=t}]);