(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6689],{64530:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/locations",function(){return n(88667)}])},35355:function(e,s,n){"use strict";var a=n(85893),i=n(59072),t=n(67294);s.Z=function(e){var s=e.locations;return(0,t.useEffect)((function(){setTimeout((function(){var e=new window.google.maps.Map(document.getElementById("map"),{}),n=new window.google.maps.LatLngBounds,a=s.map((function(s){var a=s.name,i=s.lat,t=s.lng,c=new window.google.maps.InfoWindow({content:a,disableAutoPan:!0}),l=new window.google.maps.Marker({position:{lat:i,lng:t}});return n.extend(l.position),l.addListener("click",(function(){c.open(e,l)})),l}));e.fitBounds(n),new i.XL({markers:a,map:e})}),1e3)}),[]),(0,a.jsx)("div",{className:"h-[50vh] md:h-full w-full",children:(0,a.jsx)("div",{id:"map",className:"w-full h-full"})})}},64534:function(e,s,n){"use strict";n.d(s,{k:function(){return t}});var a=n(85893),i=n(88194),t=function(e){var s=e.className,n=e.children;return(0,a.jsxs)("div",{className:"text-sm bg-[#F2F6FB] md:grid print:flex print:bg-white relative",id:"main",children:[(0,a.jsx)(i.v2,{}),(0,a.jsx)("main",{"data-scroll":"scroll",className:"p-2 md:p-4 lg:p-8 md:px-12 space-y-4 h-screen overflow-y-auto print:overflow-y-hidden overflow-x-visible print:h-auto print:p-0 print:space-y-0 ".concat(s),children:n})]})}},79899:function(e,s,n){"use strict";n.d(s,{Re:function(){return l},e3:function(){return u},h4:function(){return v},IT:function(){return N},uD:function(){return g}});var a=n(85893),i=n(67294),t=n(61503),c=n(46521),l=function(e){var s=e.guid,n=e.setLoading,l=(0,t.aM)("api/locations/".concat(s)),r=l.data,o=l.status,d=l.isLoading;(0,i.useEffect)((function(){n(d)}),[d]);var u=r||{},m="edit-location-".concat(o);return(0,a.jsx)(c.x2,{initialValues:u},m)},r=(n(23099),n(26042)),o=n(99534),d=n(88194),u=function(e){var s=e.options,n=(0,t.NS)("api/locations",s),i=n.data,c=(0,o.Z)(n,["data"]),l=c.isLoading,u=c.isError,m=c.isSuccess;return(0,a.jsxs)("div",{className:"flex-1 space-y-4",children:[l&&(0,a.jsx)(d.gb,{}),u&&(0,a.jsx)(d.jj,{}),m&&(0,a.jsx)(v,(0,r.Z)({},i)),m&&(0,a.jsx)(d.fr,(0,r.Z)({},c))]})},m=(n(65234),n(29815)),x=n(4374),p=n(74259),f=n(27106),h=n(75273),j=n(56070),v=function(e){var s=e.pages,n=(0,x.$)().t,c=(0,t.M_)().company,l=i.useCallback((function(e){var s=e.guid;return(0,a.jsxs)("div",{className:"render-action",children:[(0,a.jsx)(f.Z,{className:"render-action-btn text-primary",href:"/locations/view?guid=".concat(s),children:(0,a.jsx)("i",{className:"fas fa-eye"})}),(0,a.jsx)(f.Z,{className:"render-action-btn text-primary",href:"/locations/edit?guid=".concat(s),children:(0,a.jsx)("i",{className:"fas fa-pen"})}),(0,a.jsx)(h.vS,{guid:s,small:!0,api:"locations",removeFunction:p.Mv,redirect:"/locations"})]})}),[c]),r=[{name:n("locations.name"),cellClassName:"whitespace-nowrap flex-1",columnClassName:"whitespace-nowrap",renderRecordCell:function(e){var s=e.guid,i=e.name;return(0,a.jsx)(f.Z,{title:n("locations.view"),href:"/locations/view?guid=".concat(s),children:i})}},{name:n("companies.name"),field:"company_name",cellClassName:"whitespace-nowrap flex-1",columnClassName:"whitespace-nowrap"},{name:n("actions"),cellClassName:"whitespace-nowrap",columnClassName:"whitespace-nowrap",renderRecordCell:l}],o=(s||[]).reduce((function(e,s){return(0,m.Z)(e).concat((0,m.Z)(s))}),[]);return(0,a.jsx)(j.Z,{columns:r,data:o,keyFunction:function(e){return e.guid}})},N=function(e){var s=e.guid,n=(0,t.aM)("api/locations/".concat(s)),i=n.data,c=n.status;return(0,a.jsxs)("div",{className:"flex",children:["loading"===c&&(0,a.jsx)(d.gb,{}),"error"===c&&(0,a.jsx)(d.jj,{}),"success"===c&&(0,a.jsx)(g,(0,r.Z)({},i))]})},w=n(35355),g=function(e){var s=e.guid,n=e.name,i=e.code,t=e.company_name,c=e.sale_price_list_name,l=e.created_at,r=e.extra_data,o=(0,x.$)().t,u=Number(null===r||void 0===r?void 0:r.lat),m=Number(null===r||void 0===r?void 0:r.lng);return(0,a.jsxs)("div",{className:"flex flex-col flex-1 gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-row w-full justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"title",children:n}),(0,a.jsx)(d.cs,{date:l,text:o("created")})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 justify-between py-5 ",children:[(0,a.jsx)(d.zx,{className:"button secondary",href:"/locations/edit?guid=".concat(s),children:(0,a.jsx)("i",{className:"far fa-pen-to-square"})}),(0,a.jsx)(h.vS,{guid:s,api:"locations",removeFunction:p.Mv,redirect:"/locations"})]})]}),(0,a.jsxs)("div",{className:"flex md:flex-row flex-col items-start gap-4 justify-items-stretch",children:[(0,a.jsxs)("div",{className:"flex flex-col box md:w-3/6 w-full",children:[(0,a.jsx)("h3",{className:"flex-1 title",children:o("locations.details")}),(0,a.jsxs)("div",{className:"grid grid-col gap-10",children:[(0,a.jsxs)("div",{className:"description",children:[(0,a.jsx)("span",{className:"description-label",children:o("company")}),(0,a.jsx)("span",{className:"description-content",children:t})]}),(0,a.jsxs)("div",{className:"description",children:[(0,a.jsx)("span",{className:"description-label",children:o("cod")}),(0,a.jsx)("span",{className:"description-content",children:i})]}),(0,a.jsxs)("div",{className:"description",children:[(0,a.jsxs)("span",{className:"description-label",children:[" ",o("address")]}),(0,a.jsx)("span",{className:"description-content",children:r.address})]}),(0,a.jsxs)("div",{className:"description",children:[(0,a.jsxs)("span",{className:"description-label",children:[" ",o("price_list.name")]}),(0,a.jsx)("span",{className:"description-content",children:c})]})]})]}),(0,a.jsx)(w.Z,{locations:[{lat:u,lng:m,name:n}]})]})]})}},88667:function(e,s,n){"use strict";n.r(s);var a=n(26042),i=n(828),t=n(85893),c=n(67294),l=n(4374),r=n(88194),o=n(34913),d=n(76166),u=n(64534),m=n(79899),x=n(61503);s.default=function(){var e=(0,l.$)().t,s=(0,x.M_)(),n=s.options,p=s.setOptions,f=(0,i.Z)((0,x.dd)(),2),h=f[0],j=f[1],v=(0,c.useCallback)((function(e){p((function(s){return(0,a.Z)({},s,e)})),j.hide()}),[]);return(0,t.jsxs)(u.k,{children:[(0,t.jsxs)(r.h4,{name:e("locations.title"),btnLabel:(0,t.jsxs)(t.Fragment,{children:[e("addNew"),(0,t.jsx)("i",{className:"fas fa-plus"})]}),href:"/locations/add",children:[(0,t.jsx)(o.ol,{classNameInput:"border-b-1",className:"w-full pr-2",setOptions:p}),(0,t.jsx)(r.zx,{className:"button secondary",onClick:function(){return j.show()},children:(0,t.jsx)("i",{className:"fa-solid fa-sliders"})}),(0,t.jsx)(d.Z,{show:h,modal:j,children:(0,t.jsx)(r.kI,{onFilters:v,children:function(s){var n=s.handleFilter,a=s.applyFilters;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col gap-10",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm text-white",children:e("filter")}),(0,t.jsx)("h3",{className:"title mt-2 text-white",children:e("locations.title")})]}),(0,t.jsx)(o.KM,{id:"locations-order",setOptions:n})]}),(0,t.jsx)("div",{children:(0,t.jsx)(r.zx,{onClick:a,className:"filter-btn",children:e("applyFilters")})})]})}})})]}),(0,t.jsx)(m.e3,{options:n})]})}}},function(e){e.O(0,[9072,9774,2888,179],(function(){return s=64530,e(e.s=s);var s}));var s=e.O();_N_E=s}]);