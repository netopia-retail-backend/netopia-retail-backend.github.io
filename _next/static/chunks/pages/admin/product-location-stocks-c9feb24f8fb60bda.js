(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[16],{73341:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/product-location-stocks",function(){return n(37473)}])},47685:function(e,a,n){"use strict";n.d(a,{w:function(){return u}});var s=n(47568),t=n(26042),r=n(69396),c=n(34051),i=n.n(c),o=n(17563),l=n(32809),d=n(47715),u=function(){var e=(0,s.Z)(i().mark((function e(a,n){var s,c,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,o.stringifyUrl)({url:a,query:(0,r.Z)((0,t.Z)({},n),{csv:!0})}),e.next=3,d.o.get(s,{responseType:"blob"});case 3:c=e.sent,u=c.headers["content-disposition"].split("filename=")[1],(0,l.S)(c.data,u);case 6:case"end":return e.stop()}}),e)})));return function(a,n){return e.apply(this,arguments)}}()},64534:function(e,a,n){"use strict";n.d(a,{k:function(){return r}});var s=n(85893),t=n(15204),r=function(e){var a=e.className,n=e.children;return(0,s.jsxs)("div",{className:"text-sm bg-[#F2F6FB] md:grid print:flex print:bg-white relative",id:"main",children:[(0,s.jsx)(t.v2,{}),(0,s.jsx)("main",{"data-scroll":"scroll",className:"p-2 md:p-4 lg:p-8 md:px-12 space-y-4 h-screen overflow-y-auto print:overflow-y-hidden overflow-x-visible print:h-auto print:p-0 print:space-y-0 ".concat(a),children:n})]})}},37473:function(e,a,n){"use strict";n.r(a);var s=n(47568),t=n(26042),r=n(99534),c=n(828),i=n(29815),o=n(34051),l=n.n(o),d=n(85893),u=n(67294),p=n(4374),m=n(47685),f=n(15204),h=n(77358),x=n(76166),w=n(64534),v=n(25230),N=n(61503);a.default=function(){var e,a,n=(0,p.$)().t,o=(0,N.M_)(),g=o.options,j=o.setOptions,k=(0,c.Z)((0,N.dd)(),2),y=k[0],_=k[1],C="api/product-stock",b=(0,N.NS)(C,g),Z=b.data,F=(0,r.Z)(b,["data"]),S=null===Z||void 0===Z||null===(e=Z.pages)||void 0===e?void 0:e.reduce((function(e,a){return(0,i.Z)(e).concat((0,i.Z)(a))}),[]),E=null===Z||void 0===Z||null===(a=Z.pageParams)||void 0===a?void 0:a.totals,z=(0,u.useCallback)((function(e){j((function(a){return(0,t.Z)({},a,e)})),_.hide()}),[]),I=(0,u.useCallback)((function(e){var a,n=JSON.parse(e.properties);return a=n.length?n.reduce((function(e,a){return(0,i.Z)(e).concat(["".concat(a.property_name,": ").concat(a.value)])}),[]).map((function(e,a){return(0,d.jsx)("div",{children:e},a)})):"Default SKU",(0,d.jsxs)("div",{className:"text-gray-600",children:[e.product_name,(0,d.jsx)("br",{}),(0,d.jsx)("div",{className:"text-xs font-light",children:a})]})}),[]),O=[{name:n("product"),field:"product_name",cellClassName:"whitespace-nowrap flex-1 sm:min-w-[18rem]",columnClassName:"whitespace-nowrap",renderRecordCell:I},{name:n("categories.titles"),field:"category_name",cellClassName:"whitespace-nowrap sm:w-60",columnClassName:"whitespace-nowrap"},{name:n("company"),field:"company_name",cellClassName:"whitespace-nowrap sm:w-60",columnClassName:"whitespace-nowrap"},{name:n("location"),field:"location_name",cellClassName:"whitespace-nowrap sm:w-48",columnClassName:"whitespace-nowrap"},{name:n("products.quantity"),field:"quantity",format:v.Lx,cellClassName:"whitespace-nowrap sm:w-36",columnClassName:"whitespace-nowrap"}],P=(0,u.useState)(!1),q=P[0],L=P[1],R=(0,u.useCallback)((0,s.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(q){e.next=11;break}return L(!0),e.prev=2,e.next=5,(0,m.w)(C,g);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:L(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])}))),[C,g,q]);return(0,d.jsxs)(w.k,{children:[(0,d.jsxs)(f.Ax,{links:[{name:n("categories.reportProducts"),href:"/admin/sales-report-products"},{name:n("categories.saleReport"),href:"/admin/sales-report-categories"},{name:n("categories.reportLoc"),href:"/admin/sales-report-locations"},{name:n("categories.reportCustomers"),href:"/admin/sales-report-customers"},{name:n("products.locStocks"),href:"/admin/product-location-stocks"},{name:n("cashRegister"),href:"/admin/cash-register"}],activeLink:"/admin/product-location-stocks",name:n("products.locStocks"),children:[(0,d.jsx)(f.zx,{className:"button secondary",onClick:R,children:(0,d.jsx)("i",{className:q?"fas fa-spinner animate-spin":"fas fa-download cursor-pointer"})}),(0,d.jsx)(f.zx,{className:"button secondary",onClick:function(){return _.show()},children:(0,d.jsx)("i",{className:"fa-solid fa-sliders"})}),(0,d.jsx)(x.Z,{show:y,modal:_,children:(0,d.jsx)(f.kI,{onFilters:z,children:function(e){var a=e.handleFilter,s=e.applyFilters;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex flex-col gap-10",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-sm text-white",children:n("filter")}),(0,d.jsx)("h3",{className:"title mt-2 text-white",children:n("products.locStocks")})]}),(0,d.jsx)("div",{className:"space-y-2 pt-4 h-[60vh] overflow-y-auto",children:(0,d.jsxs)("div",{className:"grid grid-flow-row gap-8",children:[(0,d.jsx)("h3",{className:"text-xl font-medium",children:n("search_by")}),O.map((function(e,n){return(0,d.jsx)("div",{children:(0,d.jsx)("div",{className:"flex flex-col text-left",children:(0,d.jsx)(h.II,{classes:"text-white",label:e.name,name:e.field,onChange:function(e){a(e.target.name,e.target.value)}})})},"header-".concat(n))}))]})})]}),(0,d.jsx)("div",{children:(0,d.jsx)(f.zx,{onClick:s,className:"filter-btn",children:n("applyFilters")})})]})}})})]}),(0,d.jsx)(f.zI,(0,t.Z)({columns:O,data:S,totals:E,keyFunction:function(e){return e.guid+e.location_guid+e.sale_price}},F))]})}}},function(e){e.O(0,[9774,2888,179],(function(){return a=73341,e(e.s=a);var a}));var a=e.O();_N_E=a}]);