(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8444],{23752:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/categories",function(){return t(31302)}])},2765:function(e,n,t){"use strict";t.d(n,{wg:function(){return l},dH:function(){return N},C6:function(){return y}});var s=t(26042),a=t(69396),r=t(99534),i=t(85893),c=t(15204),o=t(61503),l=function(e){var n=e.options,t=(0,o.NS)("api/product-categories",n,{cacheTime:0}),l=t.data,d=(0,r.Z)(t,["data"]),u=d.isLoading,m=d.isError,p=d.isSuccess;return(0,i.jsxs)("div",{className:"flex-1 space-y-4",children:[m&&(0,i.jsx)(c.jj,{error:"categories.error"}),u&&(0,i.jsx)(c.gb,{}),p&&(0,i.jsx)(N,(0,a.Z)((0,s.Z)({},l),{options:n})),p&&(0,i.jsx)(c.fr,(0,s.Z)({},d))]})},d=t(828),u=t(29815),m=t(80454),p=t.n(m),f=t(67294),h=t(4374),x=t(94261),g=t(27106),w=t(58773),j=t(42337),v=t(56070),N=function(e){var n=e.pages,t=e.options,s=(0,h.$)().t,a=(0,o.M_)().company,r=(n||[]).reduce((function(e,n){return(0,u.Z)(e).concat((0,u.Z)(n))}),[]),c=(0,d.Z)(f.useState(r),2),l=c[0],m=c[1],N=f.useRef();(0,f.useEffect)((function(){"order_index"==t.sort&&N.current&&((0,x.lP)(l),N.current=!1)}),[l]);var C=f.useCallback((function(e){var n=e.guid,t=e.has_access;return(0,i.jsxs)("div",{className:"render-action",children:[(0,i.jsx)(g.Z,{className:"render-action-btn text-primary",title:s("categories.view"),href:"/admin/view-category/".concat(n),children:(0,i.jsx)("i",{className:"fas fa-shopping-bag"})}),!0===t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.Z,{className:"render-action-btn text-primary",href:"/admin/edit-category/".concat(n),children:(0,i.jsx)("i",{className:"fas fa-pen"})}),(0,i.jsx)(w.Z,{guid:n,small:!0})]})]})}),[a]),_=[{name:s("categories.name"),cellClassName:"whitespace-nowrap flex-1 sm:min-w-[18rem] pt-4 sm:pt-0",columnClassName:"whitespace-nowrap",renderRecordCell:function(e){var n=e.guid,t=e.name;return(0,i.jsx)(g.Z,{title:s("categories.view"),href:"/admin/view-category/".concat(n),children:t})}},{name:s("companies.name"),field:"company_name",cellClassName:"whitespace-nowrap sm:w-72",columnClassName:"whitespace-nowrap"},{name:s("products.title"),field:"productCount",cellClassName:"whitespace-nowrap sm:w-36 sm:text-right",columnClassName:"whitespace-nowrap"},{name:s("actions"),cellClassName:"whitespace-nowrap",columnClassName:"whitespace-nowrap sm:w-36 sm:text-center",renderRecordCell:C}],y="order_index"==t.sort?j.Z:v.Z;return(0,i.jsx)(y,{columns:_,data:r,renderActions:C,items:l,keyFunction:function(e){return e.guid+e.location_guid},onSortEnd:function(e,n){m((function(t){return p()(t,e,n)})),N.current=!0}})},C=t(84254),_=t(19249),y=function(e){var n=e.guid,t=e.setLoading,s=(0,o.aM)("api/product-categories/".concat(n)),a=s.data,r=s.status,c=s.isLoading;(0,f.useEffect)((function(){t(c)}),[c]);var l=a||{};(0,C.Rw)(a)&&(l.media=(0,C.om)(a));var d="edit-location-".concat(r);return(0,i.jsx)(_.BE,{initialValues:l},d)}},64534:function(e,n,t){"use strict";t.d(n,{k:function(){return r}});var s=t(85893),a=t(15204),r=function(e){var n=e.className,t=e.children;return(0,s.jsxs)("div",{className:"text-sm bg-[#F2F6FB] md:grid print:flex print:bg-white relative",id:"main",children:[(0,s.jsx)(a.v2,{}),(0,s.jsx)("main",{"data-scroll":"scroll",className:"p-2 md:p-4 lg:p-8 md:px-12 space-y-4 h-screen overflow-y-auto print:overflow-y-hidden overflow-x-visible print:h-auto print:p-0 print:space-y-0 ".concat(n),children:t})]})}},31302:function(e,n,t){"use strict";t.r(n);var s=t(26042),a=t(828),r=t(85893),i=t(67294),c=t(4374),o=t(15204),l=t(2765),d=t(34913),u=t(76166),m=t(64534),p=t(61503);n.default=function(){var e=(0,p.M_)({},"categories"),n=e.options,t=e.setOptions,f=(0,c.$)().t,h=(0,a.Z)((0,p.dd)(),2),x=h[0],g=h[1],w=(0,i.useCallback)((function(e){t((function(n){return(0,s.Z)({},n,e)})),g.hide()}),[]);return(0,r.jsxs)(m.k,{children:[(0,r.jsxs)(o.Ax,{links:[{name:f("categories.title"),href:"/admin/categories"},{name:f("products.title"),href:"/admin/products"},{name:f("price-list.title"),href:"/admin/price-list"}],activeLink:"/admin/categories",btnLabel:(0,r.jsxs)(r.Fragment,{children:[f("addNew"),(0,r.jsx)("i",{className:"fas fa-plus"})]}),name:f("categories.title"),href:"/admin/add-category",children:[(0,r.jsx)(d.ol,{classNameInput:"border-b-1 py-3",setOptions:t}),(0,r.jsx)(o.zx,{className:"button secondary",onClick:function(){return g.show()},children:(0,r.jsx)("i",{className:"fa-solid fa-sliders"})}),(0,r.jsx)(u.Z,{show:x,modal:g,children:(0,r.jsx)(o.kI,{onFilters:w,children:function(e){var n=e.handleFilter,t=e.applyFilters;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-col gap-10",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm text-white",children:f("filter")}),(0,r.jsx)("h3",{className:"title mt-2 text-white",children:f("categories.title")})]}),(0,r.jsx)(d.KM,{id:"categories",setOptions:n,addCustomOrder:!0})]}),(0,r.jsx)("div",{children:(0,r.jsx)(o.zx,{onClick:t,className:"filter-btn",children:f("applyFilters")})})]})}})})]}),(0,r.jsx)(l.wg,{options:n})]})}}},function(e){e.O(0,[9774,2888,179],(function(){return n=23752,e(e.s=n);var n}));var n=e.O();_N_E=n}]);