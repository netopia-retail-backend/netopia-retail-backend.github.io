(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7002],{88633:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/edit-price-list/[guid]",function(){return s(34317)}])},64534:function(e,a,s){"use strict";s.d(a,{k:function(){return i}});var n=s(85893),t=s(15204),i=function(e){var a=e.className,s=e.children;return(0,n.jsxs)("div",{className:"text-sm bg-[#F2F6FB] md:grid print:flex print:bg-white relative",id:"main",children:[(0,n.jsx)(t.v2,{}),(0,n.jsx)("main",{"data-scroll":"scroll",className:"p-2 md:p-4 lg:p-8 md:px-12 space-y-4 h-screen overflow-y-auto print:overflow-y-hidden overflow-x-visible print:h-auto print:p-0 print:space-y-0 ".concat(a),children:s})]})}},1880:function(e,a,s){"use strict";s.d(a,{qM:function(){return c},uh:function(){return m},Uo:function(){return p},BK:function(){return j},TD:function(){return y}});var n=s(85893),t=s(67294),i=s(61503),r=s(19249),c=function(e){var a=e.guid,s=e.setLoading,c=(0,i.aM)("api/price-lists/".concat(a)),l=c.data,o=c.status,u=c.isLoading;(0,t.useEffect)((function(){s(u)}),[u]);var d=l||{},m="edit-price-list-".concat(o);return(0,n.jsx)(r.eL,{initialValues:d},m)},l=s(26042),o=s(69396),u=s(99534),d=s(15204),m=function(e){var a=e.options,s=(0,i.NS)("api/price-lists",a,{cacheTime:0}),t=s.data,r=(0,u.Z)(s,["data"]),c=r.isLoading,m=r.isError,p=r.isSuccess;return(0,n.jsxs)("div",{className:"flex-1 space-y-4",children:[c&&(0,n.jsx)(d.gb,{}),m&&(0,n.jsx)(d.jj,{}),p&&(0,n.jsx)(j,(0,o.Z)((0,l.Z)({},t),{options:a}),JSON.stringify(t)),p&&(0,n.jsx)(d.fr,(0,l.Z)({},r))]})},p=function(e){var a=e.options,s=(0,i.NS)("api/price-list-products",a),t=s.data,r=(0,u.Z)(s,["data"]),c=r.isLoading,m=r.isError,p=r.isSuccess;return(0,n.jsxs)("div",{className:"flex-1 space-y-4",children:[c&&(0,n.jsx)(d.gb,{}),m&&(0,n.jsx)(d.jj,{}),p&&(0,n.jsx)(y,(0,o.Z)((0,l.Z)({},t),{options:a})),p&&(0,n.jsx)(d.fr,(0,l.Z)({},r))]})},f=s(29815),w=s(4374),x=s(27106),h=s(65323),N=s(56070),j=function(e){var a=e.pages,s=(0,w.$)().t,r=(a||[]).reduce((function(e,a){return(0,f.Z)(e).concat((0,f.Z)(a))}),[]),c=(0,i.M_)().company,l=(0,t.useCallback)((function(e){var a=e.guid;return(0,n.jsxs)("div",{className:"render-action",children:[(0,n.jsx)(x.Z,{className:"render-action-btn text-primary",href:"/admin/view-price-list/".concat(a),children:(0,n.jsx)("i",{className:"fas fa-eye"})}),(0,n.jsx)(x.Z,{className:"render-action-btn text-primary",href:"/admin/edit-price-list/".concat(a),children:(0,n.jsx)("i",{className:"fas fa-pen"})}),(0,n.jsx)(h.HH,{guid:a,small:!0})]})}),[c]),o=[{name:s("price-list.name"),field:"name",cellClassName:"whitespace-nowrap flex-1 sm:min-w-[18rem] pt-4 sm:pt-0",columnClassName:"whitespace-nowrap"},{name:s("company"),field:"company_name",cellClassName:"whitespace-nowrap sm:w-72",columnClassName:"whitespace-nowrap"},{name:s("products.title"),field:"productCount",cellClassName:"whitespace-nowrap sm:w-36 sm:text-right",columnClassName:"whitespace-nowrap"},{name:s("type"),cellClassName:"whitespace-nowrap sm:w-36 sm:text-right",columnClassName:"whitespace-nowrap",renderRecordCell:function(e){var a=e.type;return(0,n.jsxs)(n.Fragment,{children:[" ",s("price-list.".concat(a))]})}},{name:s("actions"),cellClassName:"whitespace-nowrap",columnClassName:"whitespace-nowrap sm:w-36 sm:text-center",renderRecordCell:l}];return(0,n.jsx)(N.Z,{columns:o,data:r,keyFunction:function(e){return e.guid}})},v=s(25230),C=s(828),g=s(39736),Z=function(e){var a=e.guid,s=(0,u.Z)(e,["guid"]),t=(0,w.$)().t,c=(0,C.Z)((0,i.dd)(),2),o=c[0],d=c[1];return(0,n.jsxs)("div",{className:"render-action",children:[(0,n.jsx)(x.Z,{className:"render-action-btn text-primary",onClick:function(){return d.show()},children:(0,n.jsx)("i",{className:"fas fa-pen"})}),(0,n.jsx)(g.Z,{show:o,modal:d,title:t("products.edit"),modalClassName:"max-w-xl",children:(0,n.jsx)(r.zk,(0,l.Z)({hide:d.hide,guid:a},s))}),(0,n.jsx)(h.Lf,{guid:a,small:!0})]})},y=function(e){var a=e.pages,s=(0,w.$)().t,i=(0,t.useCallback)((function(e){return(0,n.jsx)(Z,(0,l.Z)({},e))}),[]),r=[{name:s("products.name"),field:"product_name",cellClassName:"whitespace-nowrap flex-1 sm:min-w-[18rem]",columnClassName:"whitespace-nowrap"},{name:s("products.unitM"),cellClassName:"whitespace-nowrap sm:text-end",columnClassName:"whitespace-nowrap",renderRecordCell:function(e){var a=e.unit_of_measure;return(0,n.jsx)(n.Fragment,{children:s("units.".concat(a))})}},{name:s("price-list.standardPrice"),field:"product_price",format:v.Lx,cellClassName:"whitespace-nowrap sm:text-end",columnClassName:"whitespace-nowrap"},{name:s("price-list.specialPrice"),field:"price",format:v.Lx,cellClassName:"whitespace-nowrap sm:text-end sm:w-36",columnClassName:"whitespace-nowrap"},{name:s("actions"),cellClassName:"whitespace-nowrap text-center",columnClassName:"whitespace-nowrap",renderRecordCell:i}],c=(a||[]).reduce((function(e,a){return(0,f.Z)(e).concat((0,f.Z)(a))}),[]);return(0,n.jsx)(N.Z,{keyFunction:function(e){return e.product_guid},columns:r,data:c})}},34317:function(e,a,s){"use strict";s.r(a);var n=s(85893),t=s(67294),i=s(4374),r=s(15204),c=s(64534),l=s(1880);a.default=(0,r.EN)((function(e){var a=e.guid,s=(0,t.useState)(!1),o=s[0],u=s[1],d=(0,i.$)().t;return(0,n.jsx)(c.k,{children:(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("h3",{className:"title",children:d("price-list.edit")}),(0,n.jsx)(r.$j,{show:o})]}),(0,n.jsx)(l.qM,{guid:a,setLoading:u})]})})}))}},function(e){e.O(0,[9774,2888,179],(function(){return a=88633,e(e.s=a);var a}));var a=e.O();_N_E=a}]);