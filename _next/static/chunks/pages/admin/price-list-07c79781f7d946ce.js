(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[328],{57765:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/price-list",function(){return a(19860)}])},64534:function(e,s,a){"use strict";a.d(s,{k:function(){return i}});var n=a(85893),t=a(15204),i=function(e){var s=e.className,a=e.children;return(0,n.jsxs)("div",{className:"text-sm bg-[#F2F6FB] md:grid print:flex print:bg-white relative",id:"main",children:[(0,n.jsx)(t.v2,{}),(0,n.jsx)("main",{"data-scroll":"scroll",className:"p-2 md:p-4 lg:p-8 md:px-12 space-y-4 h-screen overflow-y-auto print:overflow-y-hidden overflow-x-visible print:h-auto print:p-0 print:space-y-0 ".concat(s),children:a})]})}},1880:function(e,s,a){"use strict";a.d(s,{qM:function(){return c},uh:function(){return u},Uo:function(){return p},BK:function(){return N},TD:function(){return y}});var n=a(85893),t=a(67294),i=a(61503),r=a(19249),c=function(e){var s=e.guid,a=e.setLoading,c=(0,i.aM)("api/price-lists/".concat(s)),l=c.data,o=c.status,d=c.isLoading;(0,t.useEffect)((function(){a(d)}),[d]);var m=l||{},u="edit-price-list-".concat(o);return(0,n.jsx)(r.eL,{initialValues:m},u)},l=a(26042),o=a(69396),d=a(99534),m=a(15204),u=function(e){var s=e.options,a=(0,i.NS)("api/price-lists",s,{cacheTime:0}),t=a.data,r=(0,d.Z)(a,["data"]),c=r.isLoading,u=r.isError,p=r.isSuccess;return(0,n.jsxs)("div",{className:"flex-1 space-y-4",children:[c&&(0,n.jsx)(m.gb,{}),u&&(0,n.jsx)(m.jj,{}),p&&(0,n.jsx)(N,(0,o.Z)((0,l.Z)({},t),{options:s}),JSON.stringify(t)),p&&(0,n.jsx)(m.fr,(0,l.Z)({},r))]})},p=function(e){var s=e.options,a=(0,i.NS)("api/price-list-products",s),t=a.data,r=(0,d.Z)(a,["data"]),c=r.isLoading,u=r.isError,p=r.isSuccess;return(0,n.jsxs)("div",{className:"flex-1 space-y-4",children:[c&&(0,n.jsx)(m.gb,{}),u&&(0,n.jsx)(m.jj,{}),p&&(0,n.jsx)(y,(0,o.Z)((0,l.Z)({},t),{options:s})),p&&(0,n.jsx)(m.fr,(0,l.Z)({},r))]})},f=a(29815),x=a(4374),h=a(27106),w=a(65323),j=a(56070),N=function(e){var s=e.pages,a=(0,x.$)().t,r=(s||[]).reduce((function(e,s){return(0,f.Z)(e).concat((0,f.Z)(s))}),[]),c=(0,i.M_)().company,l=(0,t.useCallback)((function(e){var s=e.guid;return(0,n.jsxs)("div",{className:"render-action",children:[(0,n.jsx)(h.Z,{className:"render-action-btn text-primary",href:"/admin/view-price-list/".concat(s),children:(0,n.jsx)("i",{className:"fas fa-eye"})}),(0,n.jsx)(h.Z,{className:"render-action-btn text-primary",href:"/admin/edit-price-list/".concat(s),children:(0,n.jsx)("i",{className:"fas fa-pen"})}),(0,n.jsx)(w.HH,{guid:s,small:!0})]})}),[c]),o=[{name:a("price-list.name"),field:"name",cellClassName:"whitespace-nowrap flex-1 sm:min-w-[18rem] pt-4 sm:pt-0",columnClassName:"whitespace-nowrap"},{name:a("company"),field:"company_name",cellClassName:"whitespace-nowrap sm:w-72",columnClassName:"whitespace-nowrap"},{name:a("products.title"),field:"productCount",cellClassName:"whitespace-nowrap sm:w-36 sm:text-right",columnClassName:"whitespace-nowrap"},{name:a("type"),cellClassName:"whitespace-nowrap sm:w-36 sm:text-right",columnClassName:"whitespace-nowrap",renderRecordCell:function(e){var s=e.type;return(0,n.jsxs)(n.Fragment,{children:[" ",a("price-list.".concat(s))]})}},{name:a("actions"),cellClassName:"whitespace-nowrap",columnClassName:"whitespace-nowrap sm:w-36 sm:text-center",renderRecordCell:l}];return(0,n.jsx)(j.Z,{columns:o,data:r,keyFunction:function(e){return e.guid}})},C=a(25230),g=a(828),v=a(39736),Z=function(e){var s=e.guid,a=(0,d.Z)(e,["guid"]),t=(0,x.$)().t,c=(0,g.Z)((0,i.dd)(),2),o=c[0],m=c[1];return(0,n.jsxs)("div",{className:"render-action",children:[(0,n.jsx)(h.Z,{className:"render-action-btn text-primary",onClick:function(){return m.show()},children:(0,n.jsx)("i",{className:"fas fa-pen"})}),(0,n.jsx)(v.Z,{show:o,modal:m,title:t("products.edit"),modalClassName:"max-w-xl",children:(0,n.jsx)(r.zk,(0,l.Z)({hide:m.hide,guid:s},a))}),(0,n.jsx)(w.Lf,{guid:s,small:!0})]})},y=function(e){var s=e.pages,a=(0,x.$)().t,i=(0,t.useCallback)((function(e){return(0,n.jsx)(Z,(0,l.Z)({},e))}),[]),r=[{name:a("products.name"),field:"product_name",cellClassName:"whitespace-nowrap flex-1 sm:min-w-[18rem]",columnClassName:"whitespace-nowrap"},{name:a("products.unitM"),cellClassName:"whitespace-nowrap sm:text-end",columnClassName:"whitespace-nowrap",renderRecordCell:function(e){var s=e.unit_of_measure;return(0,n.jsx)(n.Fragment,{children:a("units.".concat(s))})}},{name:a("price-list.standardPrice"),field:"product_price",format:C.Lx,cellClassName:"whitespace-nowrap sm:text-end",columnClassName:"whitespace-nowrap"},{name:a("price-list.specialPrice"),field:"price",format:C.Lx,cellClassName:"whitespace-nowrap sm:text-end sm:w-36",columnClassName:"whitespace-nowrap"},{name:a("actions"),cellClassName:"whitespace-nowrap text-center",columnClassName:"whitespace-nowrap",renderRecordCell:i}],c=(s||[]).reduce((function(e,s){return(0,f.Z)(e).concat((0,f.Z)(s))}),[]);return(0,n.jsx)(j.Z,{keyFunction:function(e){return e.product_guid},columns:r,data:c})}},19860:function(e,s,a){"use strict";a.r(s);var n=a(26042),t=a(828),i=a(85893),r=a(67294),c=a(4374),l=a(15204),o=a(34913),d=a(76166),m=a(64534),u=a(1880),p=a(61503);s.default=function(){var e=(0,p.M_)(),s=e.options,a=e.setOptions,f=(0,c.$)().t,x=(0,t.Z)((0,p.dd)(),2),h=x[0],w=x[1],j=(0,r.useCallback)((function(e){a((function(s){return(0,n.Z)({},s,e)})),w.hide()}),[]);return(0,i.jsxs)(m.k,{children:[(0,i.jsxs)(l.Ax,{links:[{name:f("categories.title"),href:"/admin/categories"},{name:f("products.title"),href:"/admin/products"},{name:f("price-list.title"),href:"/admin/price-list"}],activeLink:"/admin/price-list",btnLabel:(0,i.jsxs)(i.Fragment,{children:[f("addNew"),(0,i.jsx)("i",{className:"fas fa-plus"})]}),name:f("categories.title"),href:"/admin/add-price-list",children:[(0,i.jsx)(o.ol,{classNameInput:"border-b-1 py-3",setOptions:a}),(0,i.jsx)(l.zx,{className:"button secondary",onClick:function(){return w.show()},children:(0,i.jsx)("i",{className:"fa-solid fa-sliders"})}),(0,i.jsx)(d.Z,{show:h,modal:w,children:(0,i.jsx)(l.kI,{onFilters:j,children:function(e){var s=e.handleFilter,a=e.applyFilters;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex flex-col gap-10",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-sm text-white",children:f("filter")}),(0,i.jsx)("h3",{className:"title mt-2 text-white",children:f("categories.title")})]}),(0,i.jsx)(o.KM,{id:"categories-order",setOptions:s,addCustomOrder:!0})]}),(0,i.jsx)("div",{children:(0,i.jsx)(l.zx,{onClick:a,className:"filter-btn",children:f("applyFilters")})})]})}})})]}),(0,i.jsx)(u.uh,{options:s})]})}}},function(e){e.O(0,[9774,2888,179],(function(){return s=57765,e(e.s=s);var s}));var s=e.O();_N_E=s}]);