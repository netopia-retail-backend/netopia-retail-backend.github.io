(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3161],{85190:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/categories",function(){return s(28582)}])},35948:function(e,t,s){"use strict";s.d(t,{d:function(){return g},C:function(){return v}});var n=s(828),a=s(29815),r=s(85893),i=s(80454),c=s.n(i),o=s(67294),l=s(4374),d=s(94261),u=s(2428),m=s(27106),p=s(5477),f=s(17108),h=s(42337),x=s(56070),g=function(e){var t=e.pages,s=e.options,i=(0,l.$)().t,g=(0,u.M_)().company,w=(t||[]).reduce((function(e,t){return(0,a.Z)(e).concat((0,a.Z)(t))}),[]),j=(0,n.Z)(o.useState(w),2),v=j[0],N=j[1],C=o.useRef();(0,o.useEffect)((function(){"order_index"===s.sort&&C.current&&((0,d.lP)(v),C.current=!1)}),[v]);var b=o.useCallback((function(e){var t=e.guid,s=e.has_access;return(0,r.jsxs)("div",{className:"render-action",children:[(0,r.jsx)(m.Z,{className:"render-action-btn text-primary",title:i("categories.view"),href:"/categories/view?guid=".concat(t),children:(0,r.jsx)("i",{className:"fas fa-shopping-bag"})}),!0===s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.Z,{className:"render-action-btn text-primary",href:"/categories/edit?guid=".concat(t),children:(0,r.jsx)("i",{className:"fas fa-pen"})}),(0,r.jsx)(p.Z,{guid:t,api:"product-categories",small:!0,redirect:"/categories",removeFunction:d.sT})]})]})}),[g]),k=[{name:i("categories.name"),cellClassName:"whitespace-nowrap flex-1 sm:min-w-[18rem] pt-4 sm:pt-0",columnClassName:"whitespace-nowrap",renderRecordCell:function(e){var t=e.guid,s=e.name;return(0,r.jsx)(m.Z,{title:i("categories.view"),href:"/categories/view?guid=".concat(t),children:s})}},{name:i("companies.name"),field:"company_name",cellClassName:"whitespace-nowrap sm:w-72",columnClassName:"whitespace-nowrap"},{name:i("products.title"),field:"productCount",cellClassName:"whitespace-nowrap sm:w-36 sm:text-right",columnClassName:"whitespace-nowrap"},{name:i("actions"),cellClassName:"whitespace-nowrap",columnClassName:"whitespace-nowrap sm:w-36 sm:text-center",renderRecordCell:b}],_="order_index"===s.sort?h.Z:x.Z;return(0,r.jsxs)(r.Fragment,{children:[0===(null===w||void 0===w?void 0:w.length)?(0,r.jsx)(f.Z,{}):(0,r.jsx)(_,{columns:k,data:w,renderActions:b,items:v,keyFunction:function(e){return e.guid+e.location_guid},onSortEnd:function(e,t){N((function(s){return c()(s,e,t)})),C.current=!0}})," "]})},w=s(84254),j=s(41698),v=function(e){var t=e.guid,s=e.setLoading,n=(0,u.aM)("api/product-categories/".concat(t)),a=n.data,i=n.status,c=n.isLoading;(0,o.useEffect)((function(){s(c)}),[c]);var l=a||{};(0,w.Rw)(a)&&(l.media=(0,w.om)(a));var d="edit-category-".concat(i);return(0,r.jsx)(j.BE,{initialValues:l},d)}},64534:function(e,t,s){"use strict";s.d(t,{k:function(){return r}});var n=s(85893),a=s(10638),r=function(e){var t=e.className,s=e.children;return(0,n.jsxs)("div",{className:"text-sm bg-[#F2F6FB] dark:bg-slate-900 md:grid print:flex print:bg-white relative",id:"main",children:[(0,n.jsx)(a.v2,{}),(0,n.jsx)("main",{"data-scroll":"scroll",className:"p-2 md:p-4 lg:p-8 md:px-12 space-y-4 h-screen overflow-y-auto print:overflow-y-hidden overflow-x-visible print:h-auto print:p-0 print:space-y-0 ".concat(t),children:s})]})}},28582:function(e,t,s){"use strict";s.r(t);var n=s(26042),a=s(828),r=s(85893),i=s(67294),c=s(4374),o=s(10638),l=s(35948),d=s(70011),u=s(76166),m=s(64534),p=s(2428);t.default=function(){var e=(0,p.M_)({},"categories"),t=e.options,s=e.setOptions,f=(0,c.$)().t,h=(0,a.Z)((0,p.dd)(),2),x=h[0],g=h[1],w=(0,i.useCallback)((function(e){s((function(t){return(0,n.Z)({},t,e)})),g.hide()}),[]);return(0,r.jsxs)(m.k,{children:[(0,r.jsxs)(o.Ax,{links:[{name:f("categories.title"),href:"/categories"},{name:f("products.title"),href:"/products"},{name:f("price-list.title"),href:"/price-lists"}],activeLink:"/categories",btnLabel:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"sm:block hidden",children:f("addNew")}),(0,r.jsx)("i",{className:"fas fa-plus"})]}),name:f("categories.title"),href:"/categories/add",children:[(0,r.jsx)(d.ol,{classNameInput:"border-b-1",setOptions:s}),(0,r.jsx)(o.zx,{className:"button secondary dark:border-slate-600 dark:text-slate-200",onClick:function(){return g.show()},children:(0,r.jsx)("i",{className:"fa-solid fa-sliders"})}),(0,r.jsx)(u.Z,{show:x,modal:g,children:(0,r.jsx)(o.kI,{onFilters:w,children:function(e){var t=e.handleFilter,s=e.applyFilters;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-col gap-10",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm text-white",children:f("filter")}),(0,r.jsx)("h3",{className:"title mt-2 text-white",children:f("categories.title")})]}),(0,r.jsx)(d.KM,{id:"categories",setOptions:t,addCustomOrder:!0})]}),(0,r.jsx)("div",{children:(0,r.jsx)(o.zx,{onClick:s,className:"filter-btn",children:f("applyFilters")})})]})}})})]}),(0,r.jsx)(o.lk,{options:t,as:l.d,url:"api/product-categories",queryConfig:{cacheTime:0}})]})}}},function(e){e.O(0,[9774,2888,179],(function(){return t=85190,e(e.s=t);var t}));var t=e.O();_N_E=t}]);