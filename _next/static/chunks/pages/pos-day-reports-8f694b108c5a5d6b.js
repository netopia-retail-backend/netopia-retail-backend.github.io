(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5396],{61644:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pos-day-reports",function(){return t(87751)}])},64534:function(e,a,t){"use strict";t.d(a,{k:function(){return r}});var n=t(85893),s=t(37566),r=function(e){var a=e.className,t=e.children;return(0,n.jsxs)("div",{className:"text-sm bg-background dark:bg-background-dark md:grid print:flex print:bg-white relative",id:"main",children:[(0,n.jsx)(s.v2,{}),(0,n.jsx)("main",{"data-scroll":"scroll",className:"p-2 md:p-4 lg:p-8 md:px-12 space-y-4 h-screen overflow-y-auto print:overflow-y-hidden overflow-x-visible print:h-auto print:p-0 print:space-y-0 ".concat(a),children:t})]})}},83599:function(e,a,t){"use strict";t.d(a,{ur:function(){return m},x7:function(){return p},HQ:function(){return _}});var n=t(29815),s=t(85893),r=t(67294),l=t(4374),c=t(88379),o=t(17108),i=t(56070),m=function(e){var a=e.pages,t=(0,l.$)().t,m=(0,r.useCallback)((function(e){var a=e.data;return(0,s.jsxs)("span",{children:[" ",a.cashierName]})}),[]),d=[{name:t("cashierName"),cellClassName:"whitespace-nowrap flex-1 sm:min-w-[18rem]",columnClassName:"whitespace-nowrap",renderRecordCell:m},{name:t("createdAt"),field:"created_at",format:c.vc,dateFormat:"dd/MM/yyyy",cellClassName:"whitespace-nowrap sm:w-48",columnClassName:"whitespace-nowrap text-right"},{name:t("location"),field:"location_name",cellClassName:"whitespace-nowrap flex-1 sm:min-w-[18rem]",columnClassName:"whitespace-nowrap"},{name:t("company"),field:"company_name",cellClassName:"whitespace-nowrap flex-1 sm:w-48",columnClassName:"whitespace-nowrap"},{name:t("products.amount"),field:"amount",format:c.Lx,cellClassName:"whitespace-nowrap sm:w-36 sm:text-right",columnClassName:"whitespace-nowrap"},{name:t("filters.type"),field:"type",cellClassName:"whitespace-nowrap capitalize sm:w-36",columnClassName:"whitespace-nowrap"}],u=(a||[]).reduce((function(e,a){return(0,n.Z)(e).concat((0,n.Z)(a))}),[]);return(0,s.jsx)(s.Fragment,{children:0===(null===u||void 0===u?void 0:u.length)?(0,s.jsx)(o.Z,{}):(0,s.jsx)(i.Z,{keyFunction:function(e){return e.guid},columns:d,data:u})})},d=t(37566),u=t(27106),p=function(e){var a=e.pages,t=(0,l.$)().t,o=(0,r.useCallback)((function(e){var a=e.guid;return(0,s.jsx)(u.Z,{className:"render-action-btn text-primary",href:"/pos-day-reports/view?guid=".concat(a),children:(0,s.jsx)("i",{className:"fas fa-eye"})})}),[]),i=[{name:t("locations.name"),field:"location_name",cellClassName:"whitespace-nowrap flex-1 sm:min-w-[16rem]",columnClassName:"whitespace-nowrap"},{name:t("companies.name"),field:"company_name",cellClassName:"whitespace-nowrap flex-1 sm:min-w-[16rem]",columnClassName:"whitespace-nowrap"},{name:t("number"),field:"number",cellClassName:"whitespace-nowrap sm:w-36",columnClassName:"whitespace-nowrap"},{name:t("dateStart"),field:"date_start",format:c.vc,dateFormat:"dd/MM/yyyy",cellClassName:"whitespace-nowrap sm:w-46",columnClassName:"whitespace-nowrap"},{name:t("dateEnd"),field:"date_end",format:c.vc,dateFormat:"dd/MM/yyyy",cellClassName:"whitespace-nowrap sm:w-46",columnClassName:"whitespace-nowrap"},{name:t("products.amount"),field:"amount_total",format:c.Lx,cellClassName:"whitespace-nowrap sm:text-right sm:w-36",columnClassName:"whitespace-nowrap text-right"},{name:t("actions"),field:"number",cellClassName:"whitespace-nowrap sm:w-36",renderRecordCell:o}],m=(a||[]).reduce((function(e,a){return(0,n.Z)(e).concat((0,n.Z)(a))}),[]);return(0,s.jsx)(s.Fragment,{children:0===(null===m||void 0===m?void 0:m.length)?(0,s.jsx)(d.X6,{}):(0,s.jsx)(d.zI,{keyFunction:function(e){return e.guid},columns:i,data:m})})},w=t(26042),f=t(2428),h=t(32912),x=t(19013),y=t(13882);function v(e){if((0,y.Z)(1,arguments),"string"===typeof e){var a=e.match(/(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(?:\.(\d{0,7}))?(?:Z|(.)(\d{2}):?(\d{2})?)?/);return a?new Date(Date.UTC(+a[1],+a[2]-1,+a[3],+a[4]-(+a[9]||0)*("-"==a[8]?-1:1),+a[5]-(+a[10]||0)*("-"==a[8]?-1:1),+a[6],+((a[7]||"0")+"00").substring(0,3))):new Date(NaN)}return(0,x.default)(e)}var N=function(e){var a=e.documents_list,t=(0,l.$)().t,n=(0,r.useCallback)((function(e){var a=e.guid;return(0,s.jsx)(d.zx,{className:"render-action-btn text-primary",href:"/view-document?guid=".concat(a),children:(0,s.jsx)("i",{className:"fas fa-eye"})})}),[]),o=[{name:t("date"),cellClassName:"whitespace-nowrap sm:w-46 pt-4 sm:pt-0 flex-1",columnClassName:"whitespace-nowrap",renderRecordCell:function(e){var a=e.date;return(0,h.default)(v(a),"dd/MM/yyyy kk:mm:ss")}},{name:t("number"),field:"number",cellClassName:"whitespace-nowrap sm:w-36",columnClassName:"whitespace-nowrap"},{name:t("paymentMethod"),cellClassName:"whitespace-nowrap sm:min-w-48 flex-1",columnClassName:"whitespace-nowrap",renderRecordCell:function(e){var a=e.extra_data.paymentMethods;return(0,s.jsx)(s.Fragment,{children:a.map((function(e){return t("dashboard.paymentMethods.".concat(e.name))})).join(" / ")})}},{name:t("products.amount"),field:"total",format:c.Lx,cellClassName:"whitespace-nowrap sm:w-36 sm:text-right",columnClassName:"whitespace-nowrap"},{name:t("actions"),cellClassName:"whitespace-nowrap",columnClassName:"whitespace-nowrap sm:w-36 sm:text-center",renderRecordCell:n}];return(0,s.jsx)(d.zI,{keyFunction:function(e){return e.guid},columns:o,data:a})},C=function(e){var a=e.created_at,t=e.documents_list,r=e.number,o=e.location_name,i=e.date_start,m=e.date_end,u=e.amount_total,p=e.device_unique_id,w=e.amounts_by_type,f=e.vat_breakdown,x=(0,l.$)().t,y=w?Object.keys(w).map((function(e){return{key:x("dashboard.paymentMethods.".concat(e)),value:(0,c.Lx)(w[e])}})):[],C=f.map((function(e){var a=e.total,t=e.vat_rate,n=e.vat_sum;return[{key:(0,s.jsxs)(s.Fragment,{children:[x("valueTva")," ",t,"%"]}),value:(0,c.Lx)(a)},{key:(0,s.jsxs)(s.Fragment,{children:[x("products.vat")," ",t,"%"]}),value:n}]})).reduce((function(e,a){return(0,n.Z)(e).concat((0,n.Z)(a))}),[]),_=[{key:x("location"),value:o},{key:x("number"),value:r},{key:x("fiscalId"),value:p},{key:x("dateStart"),value:(0,h.default)(v(i),"dd/MM/yyyy kk:mm:ss")},{key:x("dateEnd"),value:(0,h.default)(v(m),"dd/MM/yyyy kk:mm:ss")}].concat((0,n.Z)(y),[{key:x("products.amount"),value:u}],(0,n.Z)(C));return(0,s.jsxs)("div",{className:"flex flex-col flex-1 gap-4",children:[(0,s.jsx)("div",{className:"flex flex-row w-full justify-between items-center",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"title dark:text-font-dark",children:[" ",x("zReport")]}),(0,s.jsx)(d.cs,{date:a,text:x("created")})]})}),(0,s.jsx)("div",{className:"flex sm:flex-row flex-col gap-4",children:(0,s.jsx)(d.gn,{title:x("details"),data:_})}),(0,s.jsx)(N,{documents_list:t})]})},_=function(e){var a=e.guid,t=(0,f.aM)("api/pos-day-reports/".concat(a)),n=t.data,r=t.status;return(0,s.jsxs)("div",{className:"flex",children:["loading"===r&&(0,s.jsx)(d.gb,{}),"error"===r&&(0,s.jsx)(d.jj,{}),"success"===r&&(0,s.jsx)(C,(0,w.Z)({},n))]})}},87751:function(e,a,t){"use strict";t.r(a);var n=t(85893),s=t(67294),r=t(4374),l=t(37566),c=t(47402),o=t(64534),i=t(83599),m=t(2428);a.default=function(){var e=(0,r.$)().t,a=(0,m.M_)({},u),t=a.options,d=a.setOptions,u="pos_report",p=(0,s.useRef)();return(0,s.useEffect)((function(){p.current=t}),[]),(0,n.jsxs)(o.k,{children:[(0,n.jsxs)(l.Ax,{links:[{name:e("receipe.title"),href:"/receipts"},{name:e("zReport"),href:"/pos-day-reports"},{name:e("dashboard.paymentMethods.posCash"),href:"/pos-cash-movements"}],activeLink:"/pos-day-reports",name:e("zReport"),children:[(0,n.jsx)(c.ol,{classNameInput:"border-b-1",className:"w-full pr-2",setOptions:d}),(0,n.jsx)(l.wn,{setOptions:d,options:t,id:u,title:e("zReport"),filters:{date_from:!0,date_to:{value:t.to},location:!0,document_order:!0}})]}),(0,n.jsx)(l.lk,{options:t,as:i.x7,url:"api/pos-day-reports"})]})}}},function(e){e.O(0,[9774,2888,179],(function(){return a=61644,e(e.s=a);var a}));var a=e.O();_N_E=a}]);