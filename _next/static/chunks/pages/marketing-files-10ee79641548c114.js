(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6755],{81095:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/marketing-files",function(){return t(34509)}])},64534:function(e,s,t){"use strict";t.d(s,{k:function(){return r}});var i=t(85893),a=t(55695),r=function(e){var s=e.className,t=e.children;return(0,i.jsxs)("div",{className:"text-sm bg-[#F2F6FB] dark:bg-slate-900 md:grid print:flex print:bg-white relative",id:"main",children:[(0,i.jsx)(a.v2,{}),(0,i.jsx)("main",{"data-scroll":"scroll",className:"p-2 md:p-4 lg:p-8 md:px-12 space-y-4 h-screen overflow-y-auto print:overflow-y-hidden overflow-x-visible print:h-auto print:p-0 print:space-y-0 ".concat(s),children:t})]})}},62382:function(e,s,t){"use strict";var i=t(26042),a=t(99534),r=t(85893),n=t(91578),l=t(55695),c=t(61503);s.Z=function(e){var s=e.options,t=(0,c.NS)("api/second-screen-media",s,{cacheTime:0}),d=t.data,o=(0,a.Z)(t,["data"]),x=o.isLoading,u=o.isError,f=o.isSuccess;return(0,r.jsxs)("div",{className:"flex-1 space-y-4",children:[x&&(0,r.jsx)(l.gb,{}),u&&(0,r.jsx)(l.jj,{}),f&&(0,r.jsx)(n.ZW,(0,i.Z)({},d)),f&&(0,r.jsx)(l.fr,(0,i.Z)({},o))]})}},91578:function(e,s,t){"use strict";t.d(s,{yR:function(){return n},q4:function(){return d},AC:function(){return u},ZW:function(){return m},XJ:function(){return j},B2:function(){return g}});var i=t(85893),a=t(34784),r=t(46521),n=function(e){var s=e.data,t=e.status,n=(0,a.h)(s);n.locations=s&&s.locations&&Object.fromEntries(s.locations.map((function(e){return[e.guid,!0]})));var l="edit-marketing-file-".concat(t);return(0,i.jsx)(r.sn,{initialValues:n},l)},l=t(4374),c=t(55695),d=function(e){var s=e.guid,t=e.name,a=e.media,r=e.created_at,n=e.type,d=(0,l.$)().t;return(0,i.jsx)(c.rU,{href:"/marketing-files/view?guid=".concat(s),children:(0,i.jsxs)("div",{className:"box dark:border-slate-600 cursor-pointer flex flex-col gap-4",title:d("marketing-file.view"),children:[(0,i.jsx)(u,{media:a,type:n}),(0,i.jsx)("div",{className:"text-sm text-gray-400",children:(0,i.jsx)(c.cs,{date:r,text:d("created")})}),(0,i.jsx)("div",{className:"truncate text-xl text-primary dark:text-slate-200 font-semibold",children:t})]})})},o=t(26042),x=t(99534),u=function(e){var s=e.media,t=e.type,a=(0,x.Z)(e,["media","type"]),r=(s||"").full_picture;return(0,i.jsx)("div",{className:"flex flex-col",children:(0,i.jsx)("div",{className:"relative w-full overflow-hidden",children:(0,i.jsx)("div",{className:"flex flex-col w-36 h-36 justify-center",children:(null===t||void 0===t?void 0:t.startsWith("image/"))?(0,i.jsx)("img",(0,o.Z)({className:"object-contain rounded",src:r,loading:"lazy",decoding:"async"},a)):(0,i.jsx)("div",{className:"absolute bg-white",children:(0,i.jsx)("div",{className:"flex flex-col rounded w-36 h-36 justify-center border items-center text-gray-400 bg-gray-100",children:(0,i.jsx)("i",{className:"fas fa-video text-4xl"})})})})})})},f=(t(62382),t(29815)),m=(t(67294),function(e){var s=(e.pages||[]).reduce((function(e,s){return(0,f.Z)(e).concat((0,f.Z)(s))}),[]);return(0,i.jsx)(i.Fragment,{children:0===s.length?(0,i.jsx)(c.X6,{}):(0,i.jsx)("div",{className:"select-none grid gap-4 xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2 grid-cols-1",children:s.map((function(e){return function(e){var s=e.guid,t=(e.company_guid,e.type),a=(0,x.Z)(e,["guid","company_guid","type"]);return(0,i.jsx)(d,(0,o.Z)({guid:s,type:t},a),s)}(e)}))})})}),j=function(e){var s=e.data,t=e.status;return(0,i.jsxs)("div",{className:"flex",children:["loading"===t&&(0,i.jsx)(c.gb,{}),"error"===t&&(0,i.jsx)(c.jj,{}),"success"===t&&(0,i.jsx)(g,(0,o.Z)({},s))]})},h=t(1029),p=t(75273),g=function(e){var s=e.created_at,t=e.guid,a=e.media,r=e.type,n=e.name,d=e.locations,o=e.company_name,x=(0,l.$)().t;return(0,i.jsxs)("div",{className:"flex flex-col flex-1 gap-4",children:[(0,i.jsxs)("div",{className:"flex flex-row w-full justify-between items-center",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"title dark:text-slate-200",children:n}),(0,i.jsx)(c.cs,{date:s,text:x("created")})]}),(0,i.jsxs)("div",{className:"flex items-center flex-wrap sm:justify-between justify-center gap-2",children:[(0,i.jsx)(c.zx,{className:"button secondary dark:border-slate-600 dark:text-slate-200",href:"/marketing-files/edit?guid=/".concat(t),children:(0,i.jsx)("i",{className:"far fa-pen-to-square"})}),(0,i.jsx)(p.vS,{guid:t,api:"second-screen-media",removeFunction:h.rK,redirect:"/marketing-files"})]})]}),(0,i.jsxs)("div",{className:"flex lg:flex-row flex-col gap-4",children:[(0,i.jsxs)("div",{className:"flex gap-4 flex-col lg:w-1/3 w-full box dark:border-slate-600",children:[(0,i.jsx)("h3",{className:"flex-1 title dark:text-slate-200",children:x("details")}),(0,i.jsxs)("div",{className:"grid grid-col gap-10",children:[(0,i.jsxs)("div",{className:"description dark:border-slate-600",children:[(0,i.jsx)("span",{className:"description-label",children:x("company")}),(0,i.jsx)("span",{className:"description-content dark:text-slate-200",children:o})]}),(0,i.jsxs)("div",{className:"description dark:border-slate-600",children:[(0,i.jsx)("span",{className:"description-label",children:x("locations.title")}),(0,i.jsx)("span",{className:"description-content dark:text-slate-200",children:null===d||void 0===d?void 0:d.map((function(e){return e.name})).join(", ")})]})]})]}),(0,i.jsx)("div",{className:"flex box dark:border-slate-600 w-full h-full lg:flex-1 justify-center",children:(null===r||void 0===r?void 0:r.startsWith("image/"))?(0,i.jsx)("img",{className:"object-contain max-w-[18rem] h-72 rounded",src:null===a||void 0===a?void 0:a.full_picture,loading:"lazy",decoding:"async"}):(0,i.jsx)("video",{controls:!0,className:"rounded lg:max-w-[38rem] w-full",children:(0,i.jsx)("source",{src:null===a||void 0===a?void 0:a.full_picture,type:r})})})]})]})}},34509:function(e,s,t){"use strict";t.r(s);var i=t(26042),a=t(828),r=t(85893),n=t(67294),l=t(4374),c=t(55695),d=t(34913),o=t(76166),x=t(64534),u=t(62382),f=t(61503);s.default=function(){var e=(0,l.$)().t,s=(0,a.Z)((0,f.dd)(),2),t=s[0],m=s[1],j=(0,f.M_)(),h=j.options,p=j.setOptions,g=(0,n.useCallback)((function(e){p((function(s){return(0,i.Z)({},s,e)})),m.hide()}),[]),v=(0,n.useRef)();return(0,n.useEffect)((function(){v.current=h}),[]),(0,r.jsxs)(x.k,{children:[(0,r.jsxs)(c.h4,{name:e("marketing-file.title"),btnLabel:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"sm:block hidden",children:e("addNew")}),(0,r.jsx)("i",{className:"fas fa-plus"})]}),href:"/marketing-files/add",children:[(0,r.jsx)(d.ol,{classNameInput:"border-b-1",className:"w-full pr-2",setOptions:p}),(0,r.jsx)(c.zx,{className:"button secondary dark:border-slate-600 dark:text-slate-200",onClick:function(){return m.show()},children:(0,r.jsx)("i",{className:"fa-solid fa-sliders"})}),(0,r.jsx)(o.Z,{show:t,modal:m,children:(0,r.jsx)(c.kI,{onFilters:g,children:function(s){var t=s.handleFilter,i=s.applyFilters;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-col gap-10",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm text-white",children:e("filter")}),(0,r.jsx)("h3",{className:"title mt-2 text-white",children:e("marketing-file.title")})]}),(0,r.jsx)(d.KM,{id:"marketing-file-order",setOptions:t})]}),(0,r.jsx)("div",{children:(0,r.jsx)(c.zx,{onClick:i,className:"filter-btn",children:e("applyFilters")})})]})}})})]}),(0,r.jsx)(u.Z,{options:h})]})}}},function(e){e.O(0,[9774,2888,179],(function(){return s=81095,e(e.s=s);var s}));var s=e.O();_N_E=s}]);