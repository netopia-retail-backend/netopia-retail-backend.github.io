(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6138],{72535:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/partners/view",function(){return n(86502)}])},64534:function(e,a,n){"use strict";n.d(a,{k:function(){return t}});var r=n(85893),s=n(55695),t=function(e){var a=e.className,n=e.children;return(0,r.jsxs)("div",{className:"text-sm bg-[#F2F6FB] dark:bg-slate-900 md:grid print:flex print:bg-white relative",id:"main",children:[(0,r.jsx)(s.v2,{}),(0,r.jsx)("main",{"data-scroll":"scroll",className:"p-2 md:p-4 lg:p-8 md:px-12 space-y-4 h-screen overflow-y-auto print:overflow-y-hidden overflow-x-visible print:h-auto print:p-0 print:space-y-0 ".concat(a),children:n})]})}},82412:function(e,a,n){"use strict";n.d(a,{KR:function(){return o},sC:function(){return f},M5:function(){return g},Iy:function(){return k},Nj:function(){return _}});var r=n(85893),s=n(67294),t=n(96486),c=n(20704),i=function(e){try{return(0,t.pick)(e,Object.keys(c.oL))}catch(a){return{}}},l=n(61503),u=n(46521),o=function(e){var a=e.guid,n=e.setLoading,t=(0,l.aM)("api/partners/".concat(a)),c=t.data,o=t.status,d=t.isLoading;(0,s.useEffect)((function(){n(d)}),[d]);var p=i(c);(function(e){try{return JSON.parse(e.extra_data)}catch(a){return!1}})(c)&&(p.extra_data=JSON.parse(c.extra_data));var m="edit-partner-".concat(o);return(0,r.jsx)(u.T4,{data:c,initialValues:p},m)},d=n(55695),p=n(26042),m=n(99534),f=function(e){var a=e.options,n=(0,l.NS)("api/partners",a),s=n.data,t=(0,m.Z)(n,["data"]),c=t.isLoading,i=t.isError,u=t.isSuccess;return(0,r.jsxs)("div",{className:"flex-1 space-y-4",children:[c&&(0,r.jsx)(d.gb,{}),i&&(0,r.jsx)(d.jj,{}),u&&(0,r.jsx)(g,(0,p.Z)({},s)),u&&(0,r.jsx)(d.fr,(0,p.Z)({},t))]})},x=n(29815),j=n(4374),h=n(25487),v=n(27106),w=n(75273),N=n(17108),y=n(56070),g=function(e){var a=e.pages,n=(0,j.$)().t,t=(0,l.M_)().company,c=s.useCallback((function(e){var a=e.guid,s=e.has_access;return(0,r.jsxs)("div",{className:"render-action",children:[(0,r.jsx)(v.Z,{className:"render-action-btn text-primary",href:"/partners/view?guid=".concat(a),children:(0,r.jsx)("i",{className:"fas fa-eye"})}),(0,r.jsx)(v.Z,{className:"text-base flex items-center justify-center rounded-full text-primary",href:"/partners/file?guid=".concat(a),title:n("partners.customerFile"),children:(0,r.jsx)("i",{className:"fas fa-file-invoice"})}),1==s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.Z,{className:"render-action-btn text-primary",href:"/partners/edit?guid=".concat(a),children:(0,r.jsx)("i",{className:"fas fa-pen"})}),(0,r.jsx)(w.vS,{guid:a,small:!0,api:"partners",removeFunction:h.Y5,redirect:"/partners"})]})]})}),[t]),i=[{name:n("partners.name"),field:"name",cellClassName:"whitespace-nowrap flex-1 sm:min-w-[18rem]",columnClassName:"whitespace-nowrap"},{name:n("partners.type"),field:"type",cellClassName:"whitespace-nowrap sm:w-44",columnClassName:"whitespace-nowrap"},{name:n("companies.name"),field:"company_name",cellClassName:"whitespace-nowrap sm:w-44",columnClassName:"whitespace-nowrap"},{name:n("actions"),cellClassName:"whitespace-nowrap justify-between",columnClassName:"whitespace-nowrap sm:w-28",renderRecordCell:c}],u=(a||[]).reduce((function(e,a){return(0,x.Z)(e).concat((0,x.Z)(a))}),[]);return(0,r.jsx)(r.Fragment,{children:0===(null===u||void 0===u?void 0:u.length)?(0,r.jsx)(N.Z,{}):(0,r.jsx)(y.Z,{columns:i,data:u,keyFunction:function(e){return e.guid}})})},k=function(e){var a=e.guid,n=(0,l.aM)("api/partners/".concat(a)),s=n.data,t=n.status;return(0,r.jsxs)("div",{className:"flex",children:["loading"===t&&(0,r.jsx)(d.gb,{}),"error"===t&&(0,r.jsx)(d.jj,{}),"success"===t&&(0,r.jsx)(_,(0,p.Z)({},s))]})},_=function(e){var a=e.guid,n=e.name,s=e.company_name,t=e.type,c=e.created_at,i=e.extra_data,l=e.cui,u=e.email,o=e.phone,p=e.regcom,m=e.has_access,f=(0,j.$)().t,v=JSON.parse(i),N=Object.keys(v).map((function(e){return{key:f(e),value:f(v[e])}})),y=[{key:f("type"),value:t},{key:f("companies.name"),value:s},{key:f("cui"),value:l},{key:f("regcom"),value:p},{key:f("phone"),value:o},{key:f("email"),value:u}].concat((0,x.Z)(N));return(0,r.jsxs)("div",{className:"flex flex-col flex-1 gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-row w-full justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"title dark:text-slate-200",children:f("partners.details")}),(0,r.jsx)(d.cs,{date:c,text:f("created")})]}),1==m&&(0,r.jsxs)("div",{className:"flex items-center space-x-2 justify-between py-5 ",children:[(0,r.jsx)(d.zx,{className:"button secondary dark:border-slate-600 dark:text-slate-200",href:"/partners/edit?guid=".concat(a),children:(0,r.jsx)("i",{className:"far fa-pen-to-square"})}),(0,r.jsx)(w.vS,{guid:a,api:"partners",removeFunction:h.Y5,redirect:"/partners"})]})]}),(0,r.jsx)("div",{className:"flex sm:flex-row flex-col gap-4",children:(0,r.jsx)(d.gn,{title:n,data:y})})]})}},86502:function(e,a,n){"use strict";n.r(a);var r=n(85893),s=n(55695),t=n(64534),c=n(82412);a.default=(0,s.EN)((function(e){var a=e.guid;return(0,r.jsx)(t.k,{children:(0,r.jsx)(c.Iy,{guid:a})})}))}},function(e){e.O(0,[9774,2888,179],(function(){return a=72535,e(e.s=a);var a}));var a=e.O();_N_E=a}]);