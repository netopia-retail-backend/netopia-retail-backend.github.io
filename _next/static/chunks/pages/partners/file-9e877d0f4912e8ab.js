(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9411],{94747:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/partners/file",function(){return s(15100)}])},47685:function(e,a,s){"use strict";s.d(a,{w:function(){return p}});var n=s(47568),t=s(26042),r=s(69396),i=s(34051),l=s.n(i),c=s(17563),o=s(32809),u=s(47715),p=function(){var e=(0,n.Z)(l().mark((function e(a,s){var n,i,p;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,c.stringifyUrl)({url:a,query:(0,r.Z)((0,t.Z)({},s),{csv:!0})}),e.next=3,u.o.get(n,{responseType:"blob"});case 3:i=e.sent,p=i.headers["content-disposition"].split("filename=")[1],(0,o.S)(i.data,p);case 6:case"end":return e.stop()}}),e)})));return function(a,s){return e.apply(this,arguments)}}()},64534:function(e,a,s){"use strict";s.d(a,{k:function(){return r}});var n=s(85893),t=s(88194),r=function(e){var a=e.className,s=e.children;return(0,n.jsxs)("div",{className:"text-sm bg-[#F2F6FB] md:grid print:flex print:bg-white relative",id:"main",children:[(0,n.jsx)(t.v2,{}),(0,n.jsx)("main",{"data-scroll":"scroll",className:"p-2 md:p-4 lg:p-8 md:px-12 space-y-4 h-screen overflow-y-auto print:overflow-y-hidden overflow-x-visible print:h-auto print:p-0 print:space-y-0 ".concat(a),children:s})]})}},15100:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return y}});var n=s(47568),t=s(26042),r=s(828),i=s(34051),l=s.n(i),c=s(85893),o=s(67294),u=s(4374),p=s(47685),d=s(88194),m=s(99534),f=s(61503),x=function(e){var a=e.options,s=(0,f.NS)("api/partners/balance",a),n=s.data,r=s.status,i=(0,m.Z)(s,["data","status"]);return(0,c.jsxs)("div",{className:"flex-1 space-y-4",children:["loading"===r&&(0,c.jsx)(d.gb,{}),"error"===r&&(0,c.jsx)(d.jj,{}),"success"===r&&(0,c.jsx)(v,(0,t.Z)({},n)),(0,c.jsx)(d.fr,(0,t.Z)({},i))]})},h=s(25230),w=s(69396),N=s(56070),v=function(e){var a=e.pages,s=(0,u.$)().t,n=(0,o.useMemo)((function(){var e=a[0].initial_balance;return a[0].records.map((function(a,s){return e=e+a.in-a.out,(0,w.Z)((0,t.Z)({},a),{index:s+1,sold:e})}))}),[]),r=[{name:s("date"),field:"date",format:h.vc,dateFormat:"dd/MM/yyyy",cellClassName:"whitespace-nowrap",columnClassName:"whitespace-nowrap"},{name:s("documents.type"),field:"type",cellClassName:"whitespace-nowrap sm:w-36 flex-1",columnClassName:"whitespace-nowrap"},{name:s("documents.title"),field:"number",cellClassName:"whitespace-nowrap",columnClassName:"whitespace-nowrap"},{name:s("details"),field:"details",cellClassName:"whitespace-nowrap sm:w-44 flex-1 sm:text-right",columnClassName:"whitespace-nowrap"},{name:s("cashOut"),field:"out",format:h.Lx,cellClassName:"whitespace-nowrap sm:w-44 sm:text-right",columnClassName:"whitespace-nowrap"},{name:s("cashIn"),field:"in",format:h.Lx,cellClassName:"whitespace-nowrap sm:w-44 sm:text-right",columnClassName:"whitespace-nowrap"},{name:s("sold"),field:"sold",format:h.Lx,cellClassName:"whitespace-nowrap sm:min-w-42 sm:text-right flex-1",columnClassName:"whitespace-nowrap"}];return(0,c.jsx)(N.Z,{header_label:s("initialSold"),header_value:(0,h.Lx)(a[0].initial_balance),columns:r,data:n,keyFunction:function(e){return e.nr}})},j=s(34913),b=s(76166),C=s(64534),y=(0,d.EN)((function(e){var a=e.guid,s=(0,u.$)().t,i=(0,r.Z)((0,f.dd)(),2),m=i[0],h=i[1],w=(0,o.useCallback)((function(e){y((function(a){return(0,t.Z)({},a,e)})),h.hide()}),[]),N=(0,f.M_)({partner_guid:a},a),v=N.options,y=N.setOptions,k="api/partners/balance",_=(0,o.useState)(!1),g=_[0],Z=_[1],F=(0,o.useCallback)((0,n.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=11;break}return Z(!0),e.prev=2,e.next=5,(0,p.w)(k,v);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:Z(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])}))),[k,v,g]);return(0,c.jsxs)(C.k,{children:[(0,c.jsxs)(d.h4,{name:s("partners.customerFile"),children:[(0,c.jsx)(d.zx,{className:"button secondary",title:s("documents.print"),onClick:function(){return window.print()},children:(0,c.jsx)("i",{className:"fas fa-print"})}),(0,c.jsx)(d.zx,{className:"button secondary",onClick:F,children:(0,c.jsx)("i",{className:g?"fas fa-spinner animate-spin":"fas fa-download cursor-pointer"})}),(0,c.jsx)(d.zx,{className:"button secondary",onClick:function(){return h.show()},children:(0,c.jsx)("i",{className:"fa-solid fa-sliders"})}),(0,c.jsx)(b.Z,{show:m,modal:h,children:(0,c.jsx)(d.kI,{onFilters:w,children:function(e){var n=e.handleFilter,t=e.applyFilters;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"flex flex-col gap-10",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("span",{className:"text-sm text-white",children:s("filter")}),(0,c.jsx)("h3",{className:"title mt-2 text-white",children:s("partners.customerFile")})]}),(0,c.jsx)(j.fU,{classes:"text-white",label:s("from"),id:"from",onNewDate:n,value:v.from,prefix:a}),(0,c.jsx)(j.fU,{classes:"text-white",label:s("to"),id:"to",onNewDate:n,value:v.to,prefix:a})]}),(0,c.jsx)("div",{children:(0,c.jsx)(d.zx,{className:"filter-btn",onClick:t,children:s("applyFilters")})})]})}})})]}),(0,c.jsx)(x,{options:v})]})}))}},function(e){e.O(0,[9774,2888,179],(function(){return a=94747,e(e.s=a);var a}));var a=e.O();_N_E=a}]);