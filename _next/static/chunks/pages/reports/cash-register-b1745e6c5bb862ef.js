(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1719],{97272:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reports/cash-register",function(){return a(93878)}])},64534:function(e,s,a){"use strict";a.d(s,{k:function(){return n}});var t=a(85893),r=a(97991),n=function(e){var s=e.className,a=e.children;return(0,t.jsxs)("div",{className:"text-sm bg-background dark:bg-background-dark md:grid print:flex print:bg-white relative",id:"main",children:[(0,t.jsx)(r.v2,{}),(0,t.jsx)("main",{"data-scroll":"scroll",className:"p-2 md:p-4 lg:p-8 md:px-12 space-y-4 h-screen overflow-y-auto print:overflow-y-hidden overflow-x-visible print:h-auto print:p-0 print:space-y-0 ".concat(s),children:a})]})}},93878:function(e,s,a){"use strict";a.r(s);var t=a(26042),r=a(69396),n=a(99534),i=a(828),l=a(85893),o=a(32912),c=a(67294),d=a(4374),m=a(97991),p=a(47402),u=a(76166),f=a(64534),h=a(88379),x=a(2428);s.default=function(){var e=(0,d.$)().t,s="cash_register",a=(0,i.Z)((0,x.dd)(),2),w=a[0],v=a[1],g=new Date;g.setDate(1);var N=new Date(g);g.setMonth(g.getMonth()+1),g.setDate(0);var k=new Date(g),y=(0,x.M_)({from:(0,o.default)(N,"yyyy-MM-dd"),to:(0,o.default)(k,"yyyy-MM-dd")},s),j=y.options,C=y.setOptions,_=(0,c.useCallback)((function(e){C((function(s){return(0,t.Z)({},s,e)})),v.hide()}),[]),b=(0,c.useRef)();(0,c.useEffect)((function(){b.current=j}),[]);var M=(0,x.NS)("api/cash-register",j),D=M.data,E=(M.status,M.error),F=(0,n.Z)(M,["data","status","error"]);(0,c.useEffect)((function(){var s=null===E||void 0===E?void 0:E.message;s&&h.mv.error(e("err.".concat(s)))}),[E]);var Z=null===D||void 0===D?void 0:D.pages[0].initial_sold,L=(0,c.useMemo)((function(){return null===D||void 0===D?void 0:D.pages[0].records.map((function(e,s){return Z=Z+e.income-e.expense,(0,r.Z)((0,t.Z)({},e),{index:s+1,sold:Z})}))}),[D]),R=(0,c.useCallback)((function(s){return e("cash_register.".concat(s.type))}),[]),z=[{name:e("nr"),field:"index",cellClassName:"whitespace-nowrap sm:w-20",columnClassName:"whitespace-nowrap"},{name:e("date"),field:"date",format:h.vc,dateFormat:"dd/MM/yyyy",cellClassName:"whitespace-nowrap",columnClassName:"whitespace-nowrap"},{name:e("docNo"),field:"nr",cellClassName:"whitespace-nowrap sm:w-42 sm:text-right",columnClassName:"whitespace-nowrap"},{name:e("type"),field:"type",cellClassName:"whitespace-nowrap flex-1",columnClassName:"whitespace-nowrap",renderRecordCell:R},{name:e("cashOut"),field:"income",format:h.Lx,cellClassName:"whitespace-nowrap sm:w-44 sm:text-right",columnClassName:"whitespace-nowrap"},{name:e("cashIn"),field:"expense",format:h.Lx,cellClassName:"whitespace-nowrap sm:w-44 sm:text-right",columnClassName:"whitespace-nowrap"},{name:e("sold"),field:"sold",format:h.Lx,cellClassName:"whitespace-nowrap sm:min-w-42 sm:text-right flex-1",columnClassName:"whitespace-nowrap"}];return(0,l.jsxs)(f.k,{className:"flex flex-col",children:[(0,l.jsxs)(m.Ax,{links:[{name:e("categories.reportProducts"),href:"/reports/sales/products"},{name:e("categories.saleReport"),href:"/reports/sales/categories"},{name:e("categories.reportLoc"),href:"/reports/sales/locations"},{name:e("categories.reportCustomers"),href:"/reports/sales/customers"},{name:e("products.locStocks"),href:"/reports/stocks"},{name:e("cashRegister"),href:"/reports/cash-register"}],activeLink:"/reports/cash-register",name:e("cashRegister"),children:[(0,l.jsx)(m.zx,{className:"button secondary dark:border-font-dark-variant dark:text-font-dark",title:e("documents.print"),onClick:function(){return window.print()},children:(0,l.jsx)("i",{className:"fas fa-print"})}),(0,l.jsx)(m.zx,{className:"button secondary dark:border-font-dark-variant dark:text-font-dark",onClick:function(){return v.show()},children:(0,l.jsx)("i",{className:"fa-solid fa-sliders"})}),(0,l.jsx)(u.Z,{show:w,modal:v,children:(0,l.jsx)(m.kI,{onFilters:_,children:function(a){var t=a.handleFilter,r=a.applyFilters;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex flex-col gap-10",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-sm text-white",children:e("filter")}),(0,l.jsx)("h3",{className:"title mt-2 text-white",children:e("cashRegister")})]}),(0,l.jsx)(p.fU,{classes:"text-white",prefix:s,label:e("from"),value:j.from,id:"from",onNewDate:t}),(0,l.jsx)(p.fU,{classes:"text-white",prefix:s,label:e("to"),value:j.to,id:"to",onNewDate:t})]}),(0,l.jsx)("div",{children:(0,l.jsx)(m.zx,{onClick:r,className:"filter-btn",children:e("applyFilters")})})]})}})})]}),j.company_guid?0===(null===L||void 0===L?void 0:L.length)?(0,l.jsx)(m.X6,{}):(0,l.jsx)(m.zI,(0,t.Z)({header_label:e("initialSold"),header_value:(0,h.Lx)(Z),columns:z,data:L,keyFunction:function(e){return e.nr+e.sold+e.index}},F)):(0,l.jsx)("div",{className:"h-[70vh] w-full flex flex-col gap-4 justify-center items-center text-2xl tracking-tight text-center text-slate-500",children:e("vendor.cannotShow")})]})}}},function(e){e.O(0,[9774,2888,179],(function(){return s=97272,e(e.s=s);var s}));var s=e.O();_N_E=s}]);