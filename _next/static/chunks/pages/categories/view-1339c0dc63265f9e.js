(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2191],{49898:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/categories/view",function(){return n(42974)}])},42974:function(t,e,n){"use strict";n.r(e);var o=n(47568),s=n(14924),i=n(26042),a=n(69396),r=n(34051),c=n.n(r),u=n(85893),l=n(67294),d=n(4374),p=n(11860),_=n(94261),f=n(37566),m=n(47402),v=n(64534),g=n(98093),h=n(2428);e.default=(0,f.EN)((function(t){var e=t.guid,n=(0,d.$)().t,r="category_products",x=(0,h.M_)({category_guid:e},r),w=x.options,N=x.setOptions,b=(0,l.useRef)(),k=(0,l.useState)(),j=k[0],C=k[1],y=(0,l.useContext)(f.Il).company,E=(0,l.useContext)(f.Il).userClaims;(0,l.useEffect)((0,o.Z)(c().mark((function t(){var n,o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return 1===(null===(n=null===y||void 0===y?void 0:y.data.location_list)||void 0===n?void 0:n.length)&&(p.session.set("name_products_category_location_guid",null===y||void 0===y?void 0:y.data.location_list[0].name),N((function(t){return(0,a.Z)((0,i.Z)({},t),{location_guid:null===y||void 0===y?void 0:y.data.location_list[0].guid,location_name:null===y||void 0===y?void 0:y.data.location_list[0].name})}))),b.current=w,t.next=5,(0,_.m7)(e);case 5:o=t.sent,C(o.name);case 7:case"end":return t.stop()}}),t)}))),[E]);var O=(0,l.useCallback)((function(t,e){N((function(n){return(0,a.Z)((0,i.Z)({},n),(0,s.Z)({},t,e))}))}),[]);return(0,u.jsxs)(v.k,{children:[(0,u.jsxs)(f.h4,{name:j,label:n("categories.title"),btnLabel:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{className:"sm:block hidden",children:n("addNew")}),(0,u.jsx)("i",{className:"fas fa-plus"})]}),href:"/products/add?guid=".concat(e),children:[(0,u.jsx)(m.kT,{id:"products_category_location_guid",textColor:"text-font",setOptions:O,label:n("locations.choose"),options:w}),(0,u.jsx)(m.ol,{classNameInput:"border-b-1",className:"w-full pr-2",setOptions:N}),(0,u.jsx)(f.wn,{setOptions:N,options:w,id:r,title:n("products.title"),filters:{order:{customOrder:!0},product_type:!0}})]}),(0,u.jsx)(f.lk,{options:w,as:g.TD,url:"api/products",queryConfig:{cacheTime:0}})]})}))}},function(t){t.O(0,[2079,9774,2888,179],(function(){return e=49898,t(t.s=e);var e}));var e=t.O();_N_E=e}]);