(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2191],{49898:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/categories/view",function(){return n(42974)}])},42974:function(t,e,n){"use strict";n.r(e);var s=n(47568),i=n(14924),a=n(26042),o=n(69396),l=n(828),r=n(34051),c=n.n(r),d=n(85893),u=n(67294),f=n(4374),x=n(11860),p=n(94261),h=n(75210),m=n(70011),_=n(76166),v=n(64534),j=n(98093),k=n(2428);e.default=(0,h.EN)((function(t){var e=t.guid,n=(0,f.$)().t,r="product",g=(0,k.M_)({category_guid:e},r),N=g.options,w=g.setOptions,b=(0,u.useRef)(),C=(0,u.useState)(),y=C[0],Z=C[1],O=(0,u.useContext)(h.Il).company,E=(0,u.useCallback)((function(t){w((function(e){return(0,a.Z)({},e,t)})),z.hide()}),[]),F=(0,u.useContext)(h.Il).userClaims;(0,u.useEffect)((0,s.Z)(c().mark((function t(){var n,s;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return 1===(null===(n=null===O||void 0===O?void 0:O.data.location_list)||void 0===n?void 0:n.length)&&(x.session.set("name_products_category_location_guid",null===O||void 0===O?void 0:O.data.location_list[0].name),w((function(t){return(0,o.Z)((0,a.Z)({},t),{location_guid:null===O||void 0===O?void 0:O.data.location_list[0].guid,location_name:null===O||void 0===O?void 0:O.data.location_list[0].name})}))),b.current=N,t.next=5,(0,p.m7)(e);case 5:s=t.sent,Z(s.name);case 7:case"end":return t.stop()}}),t)}))),[F]);var T=(0,l.Z)((0,k.dd)(),2),I=T[0],z=T[1],M=(0,u.useCallback)((function(t,e){w((function(n){return(0,o.Z)((0,a.Z)({},n),(0,i.Z)({},t,e))}))}),[]);return(0,d.jsxs)(v.k,{children:[(0,d.jsxs)(h.h4,{name:y,label:n("categories.titles"),btnLabel:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"sm:block hidden",children:n("addNew")}),(0,d.jsx)("i",{className:"fas fa-plus"})]}),href:"/products/add?guid=".concat(e),children:[(0,d.jsx)(m.kT,{id:"products_category_location_guid",textColor:"text-font",setOptions:M,label:n("locations.choose"),options:N}),(0,d.jsx)(m.ol,{classNameInput:"border-b-1",className:"w-full pr-2",setOptions:w}),(0,d.jsx)(h.zx,{className:"button secondary dark:border-font-dark-variant dark:text-font-dark",onClick:function(){return z.show()},children:(0,d.jsx)("i",{className:"fa-solid fa-sliders"})}),(0,d.jsx)(_.Z,{show:I,modal:z,children:(0,d.jsx)(h.kI,{onFilters:E,children:function(t){var e=t.handleFilter,s=t.applyFilters;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex flex-col gap-10",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-sm text-white",children:n("filter")}),(0,d.jsx)("h3",{className:"title mt-2 text-white",children:n("products.title")})]}),(0,d.jsx)(m.kv,{id:"".concat(r,"_type"),setOptions:e}),(0,d.jsx)(m.KM,{id:r,setOptions:e,addCustomOrder:!0})]}),(0,d.jsx)("div",{children:(0,d.jsx)(h.zx,{onClick:s,className:"filter-btn",children:n("applyFilters")})})]})}})})]}),(0,d.jsx)(h.lk,{options:N,as:j.TD,url:"api/products",queryConfig:{cacheTime:0}})]})}))}},function(t){t.O(0,[2079,9774,2888,179],(function(){return e=49898,t(t.s=e);var e}));var e=t.O();_N_E=e}]);