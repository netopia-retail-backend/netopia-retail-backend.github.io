(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2191],{49898:function(t,e,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/categories/view",function(){return s(42974)}])},42974:function(t,e,s){"use strict";s.r(e);var n=s(47568),i=s(14924),a=s(26042),o=s(69396),l=s(828),r=s(34051),c=s.n(r),d=s(85893),u=s(67294),x=s(4374),f=s(11860),p=s(94261),h=s(10638),m=s(70011),_=s(76166),v=s(64534),j=s(98093),g=s(2428);e.default=(0,h.EN)((function(t){var e=t.guid,s=(0,x.$)().t,r="product",k=(0,g.M_)({category_guid:e},r),N=k.options,w=k.setOptions,b=(0,u.useRef)(),C=(0,u.useState)(),y=C[0],Z=C[1],O=(0,u.useContext)(h.Il).company,E=(0,u.useCallback)((function(t){w((function(e){return(0,a.Z)({},e,t)})),z.hide()}),[]),F=(0,u.useContext)(h.Il).userClaims;(0,u.useEffect)((0,n.Z)(c().mark((function t(){var s,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return 1===(null===(s=null===O||void 0===O?void 0:O.data.location_list)||void 0===s?void 0:s.length)&&(f.session.set("name_products_category_location_guid",null===O||void 0===O?void 0:O.data.location_list[0].name),w((function(t){return(0,o.Z)((0,a.Z)({},t),{location_guid:null===O||void 0===O?void 0:O.data.location_list[0].guid,location_name:null===O||void 0===O?void 0:O.data.location_list[0].name})}))),b.current=N,t.next=5,(0,p.m7)(e);case 5:n=t.sent,Z(n.name);case 7:case"end":return t.stop()}}),t)}))),[F]);var T=(0,l.Z)((0,g.dd)(),2),I=T[0],z=T[1],M=(0,u.useCallback)((function(t,e){w((function(s){return(0,o.Z)((0,a.Z)({},s),(0,i.Z)({},t,e))}))}),[]);return(0,d.jsxs)(v.k,{children:[(0,d.jsxs)(h.h4,{name:y,label:s("categories.titles"),btnLabel:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"sm:block hidden",children:s("addNew")}),(0,d.jsx)("i",{className:"fas fa-plus"})]}),href:"/products/add?guid=".concat(e),children:[(0,d.jsx)(m.kT,{id:"products_category_location_guid",textColor:"text-font",setOptions:M,options:N}),(0,d.jsx)(m.ol,{classNameInput:"border-b-1",className:"w-full pr-2",setOptions:w}),(0,d.jsx)(h.zx,{className:"button secondary dark:border-slate-600 dark:text-slate-200",onClick:function(){return z.show()},children:(0,d.jsx)("i",{className:"fa-solid fa-sliders"})}),(0,d.jsx)(_.Z,{show:I,modal:z,children:(0,d.jsx)(h.kI,{onFilters:E,children:function(t){var e=t.handleFilter,n=t.applyFilters;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex flex-col gap-10",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("span",{className:"text-sm text-white",children:s("filter")}),(0,d.jsx)("h3",{className:"title mt-2 text-white",children:s("products.title")})]}),(0,d.jsx)(m.kv,{id:"".concat(r,"_type"),setOptions:e}),(0,d.jsx)(m.KM,{id:r,setOptions:e,addCustomOrder:!0})]}),(0,d.jsx)("div",{children:(0,d.jsx)(h.zx,{onClick:n,className:"filter-btn",children:s("applyFilters")})})]})}})})]}),(0,d.jsx)(h.lk,{options:N,as:j.TD,url:"api/products",queryConfig:{cacheTime:0}})]})}))}},function(t){t.O(0,[2079,9774,2888,179],(function(){return e=49898,t(t.s=e);var e}));var e=t.O();_N_E=e}]);