(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2395],{8840:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/customer-receipts/view",function(){return r(4280)}])},30807:function(e,t,r){"use strict";r.d(t,{j:function(){return o}});var s=r(47568),n=r(34051),a=r.n(n),c=r(47715),i=r(32809),o=function(){var e=(0,s.Z)(a().mark((function e(t,r){var s,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.o.get("api/".concat(t,"/pdf/").concat(r),{responseType:"blob"});case 2:s=e.sent,n=s.headers["content-disposition"].split("filename=")[1],(0,i.S)(s.data,n);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},64534:function(e,t,r){"use strict";r.d(t,{k:function(){return a}});var s=r(85893),n=r(10638),a=function(e){var t=e.className,r=e.children;return(0,s.jsxs)("div",{className:"text-sm bg-[#F2F6FB] dark:bg-slate-900 md:grid print:flex print:bg-white relative",id:"main",children:[(0,s.jsx)(n.v2,{}),(0,s.jsx)("main",{"data-scroll":"scroll",className:"p-2 md:p-4 lg:p-8 md:px-12 space-y-4 h-screen overflow-y-auto print:overflow-y-hidden overflow-x-visible print:h-auto print:p-0 print:space-y-0 ".concat(t),children:r})]})}},4280:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var s=r(85893),n=r(10638),a=r(64534),c=r(47568),i=r(34051),o=r.n(i),l=r(67294),u=r(4374),d=r(4058),f=r(30295),p=r(30807),m=r(84469),x=function(e){var t=e.guid,r=e.created_at,a=e.series,i=e.number,x=e.html,h=(0,u.$)().t,v=(0,l.useState)(!1),w=v[0],b=v[1],j=(0,l.useCallback)((0,c.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w){e.next=11;break}return b(!0),e.prev=2,e.next=5,(0,p.j)("customer-receipts",t);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:b(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])}))),[t,w]);return(0,s.jsxs)("div",{className:"flex flex-col w-full space-y-4",children:[(0,s.jsxs)("div",{className:"flex sm:flex-row sm:gap-0 gap-2 flex-col w-full justify-between print:hidden",children:[(0,s.jsx)(f.$4,{title:(0,s.jsx)(f.Qn,{number:i,series:a,type:h("receipts.title")}),created_at:r}),(0,s.jsxs)("div",{className:"flex items-center sm:justify-between space-x-2 print:hidden self-end",children:[(0,s.jsx)(n.zx,{className:"button secondary dark:border-slate-600 dark:text-slate-200",title:h("documents.print"),onClick:function(){return window.frames.customer_receipt_frame.contentWindow.postMessage("print","*")},children:(0,s.jsx)("i",{className:"fas fa-print"})}),(0,s.jsx)(n.zx,{className:"button secondary dark:border-slate-600 dark:text-slate-200",title:"PDF",onClick:j,children:(0,s.jsx)("i",{className:w?"fas fa-spinner animate-spin":"fas fa-file-pdf cursor-pointer"})}),(0,s.jsx)(n.zx,{className:"button secondary dark:border-slate-600 dark:text-slate-200",href:"/customer-receipts/edit?guid=".concat(t),children:(0,s.jsx)("i",{className:"far fa-pen-to-square"})}),(0,s.jsx)(d.vS,{guid:t,redirect:"/customer-receipts",api:"customer-receipts",removeFunction:m.UY})]})]}),(0,s.jsx)("div",{className:"box space-y-4 bg-white print:border-none flex items-center justify-center w-[calc(210mm+4rem)] h-[calc(297mm+4rem)]",children:(0,s.jsx)("iframe",{id:"customer_receipt_frame",src:"data:text/html;charset=utf-8,"+encodeURIComponent(x),className:"w-full h-full"})})]})},h=(0,n.EN)((function(e){var t=e.guid;return(0,s.jsx)(a.k,{children:(0,s.jsx)(n.zz,{guid:t,type:"customer-receipts",as:x})})}))}},function(e){e.O(0,[9774,2888,179],(function(){return t=8840,e(e.s=t);var t}));var t=e.O();_N_E=t}]);