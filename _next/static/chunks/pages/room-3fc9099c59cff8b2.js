(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5635],{11882:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/room",function(){return s(4177)}])},64534:function(e,a,s){"use strict";s.d(a,{k:function(){return r}});var t=s(85893),n=s(97991),r=function(e){var a=e.className,s=e.children;return(0,t.jsxs)("div",{className:"text-sm bg-background dark:bg-background-dark md:grid print:flex print:bg-white relative",id:"main",children:[(0,t.jsx)(n.v2,{}),(0,t.jsx)("main",{"data-scroll":"scroll",className:"p-2 md:p-4 lg:p-8 md:px-12 space-y-4 h-screen overflow-y-auto print:overflow-y-hidden overflow-x-visible print:h-auto print:p-0 print:space-y-0 ".concat(a),children:s})]})}},7173:function(e,a,s){"use strict";s.d(a,{uK:function(){return f},W7:function(){return v}});var t=s(85893),n=s(97991),r=s(61193),i=s.n(r),l=s(4374),c=s(96565),o=s(88379),d=s(8379),u=s(2428),x=function(e){var a=e.guid,s=e.name,n=e.extra_data,r=(0,l.$)().t,x=(0,u.Db)("api/restaurant-tables",c.qB,{success:r("restaurant.removeTableSuccess"),successCallback:function(){(0,d.$X)("count.tables")},errorCallback:function(e){o.mv.error(r("err.".concat(e.message)))}}),m=(0,u.Db)("api/restaurant-tables",c.T0,{});return(0,t.jsx)(i(),{bounds:"parent",grid:[24,24],defaultPosition:{x:n.x,y:n.y},onStop:function(e,s){var t={extra_data:{table_type:n.table_type,x:s.x,y:s.y},guid:a};m.mutate(t)},handle:".move",children:(0,t.jsx)("div",{className:"w-40 inline-block absolute",children:(0,t.jsxs)("div",{className:" p-3 flex flex-col justify-center align-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("button",{className:"text-red-400 text-xl float-right",onClick:function(){x.mutate(a)},children:(0,t.jsx)("i",{className:"fas fa-times-circle"})}),(0,t.jsx)("span",{className:"move float-left text-xl",children:(0,t.jsx)("i",{className:"fas fa-arrows-alt"})})]}),(0,t.jsx)("img",{src:n.table_type?"/images/table".concat(n.table_type,".png "):"/images/table2.png"}),(0,t.jsx)("span",{className:"text-xl text-center",children:s})]})})})},m=s(26042),p=s(99534),f=function(e){var a=e.room_guid,s=(0,u.M_)({room_guid:a}),r=s.company,i=s.options,l=(0,u.NS)("api/restaurant-tables",i),c=l.data,o=(0,p.Z)(l,["data"]),d=o.isLoading,x=o.isError,f=o.isSuccess;return(0,t.jsxs)("div",{className:"flex",children:[d&&(0,t.jsx)(n.gb,{}),x&&(0,t.jsx)(n.jj,{}),f&&(0,t.jsx)(v,(0,m.Z)({company_name:r.name,company_guid:r.guid,room_guid:a,options:i},c))]})},h=s(41698),j=s(4058),v=function(e){var a=e.company_name,s=e.company_guid,r=e.room_guid,i=e.pages,o=(0,l.$)().t,d=(0,u.aM)("api/restaurant-rooms/".concat(r)),f=d.data,v=d.status,g=600,b=1500;f&&(g=f.extra_data.height,b=f.extra_data.width);var N=f||{},y="edit-room-".concat(v),_=function(e){var a=e.guid,s=(0,p.Z)(e,["guid"]);return(0,t.jsx)(x,(0,m.Z)({guid:a},s),a)};return(0,t.jsxs)("div",{className:"flex flex-col w-full space-y-4",children:[(0,t.jsx)("div",{className:"box flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:(0,t.jsxs)("div",{className:"space-y-4 flex-1 w-full",children:[(0,t.jsx)("div",{className:"md:bg-white md:rounded md:shadow md:px-6 md:py-6 lg:col-span-2",children:(0,t.jsx)(h.qS,{initialValues:N},y)}),(0,t.jsx)("div",{className:"my-2",children:(0,t.jsxs)("div",{className:"flex flex-wrap items-center",children:[(0,t.jsx)("p",{className:"mr-2",children:a}),(0,t.jsx)(n.rU,{href:"/companies/view?guid=".concat(s),children:(0,t.jsx)("a",{className:"text-xs text-gray-500 underline",children:o("companies.viewComp")})})]})}),(0,t.jsxs)("div",{className:"my-2",children:[(0,t.jsx)(h.jo,{room_guid:r}),(0,t.jsx)("div",{id:"parent",className:"relative my-8 gap-2 overflow-auto w-full",children:(0,t.jsx)("div",{className:"bg-gray-100",style:{height:"".concat(g,"px"),width:"".concat(b,"px")},children:i.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(_)}))})})]})]})}),(0,t.jsx)("div",{className:"self-end",children:(0,t.jsx)(j.vS,{guid:r,small:!0,api:"restaurant-rooms",redirect:"/room",removeFunction:c.jr})})]})}},4177:function(e,a,s){"use strict";s.r(a);var t=s(26042),n=s(828),r=s(85893),i=s(67294),l=s(4374),c=s(97991),o=s(47402),d=s(76166),u=s(64534),x=s(7173),m=s(2428);a.default=function(){var e=(0,l.$)().t,a=(0,m.M_)(),s=a.options,p=a.setOptions,f=(0,n.Z)((0,m.dd)(),2),h=f[0],j=f[1],v=(0,i.useCallback)((function(e){p((function(a){return(0,t.Z)({},a,e)})),j.hide()}),[]);return(0,r.jsxs)(u.k,{children:[(0,r.jsxs)(c.h4,{btnLabel:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"sm:block hidden",children:e("addNew")}),(0,r.jsx)("i",{className:"fas fa-plus"})]}),name:e("restaurant.title"),href:"/room/add",children:[(0,r.jsx)(c.zx,{className:"button secondary dark:border-font-dark-variant dark:text-font-dark",onClick:function(){return j.show()},children:(0,r.jsx)("i",{className:"fa-solid fa-sliders"})}),(0,r.jsxs)(d.Z,{show:h,modal:j,children:[(0,r.jsxs)("div",{className:"flex flex-col gap-10",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm text-white",children:e("filter")}),(0,r.jsx)("h3",{className:"title mt-2 text-white",children:e("companies.title")})]})," ",(0,r.jsx)(o.kT,{setOptions:p}),(0,r.jsx)(o.KM,{id:"locations-order",setOptions:p})]}),(0,r.jsx)("div",{children:(0,r.jsx)(c.zx,{onClick:v,className:"filter-btn",children:e("applyFilters")})})]})]}),(0,r.jsx)(c.lk,{options:s,as:x.W7,url:"api/restaurant-rooms"})]})}}},function(e){e.O(0,[9774,2888,179],(function(){return a=11882,e(e.s=a);var a}));var a=e.O();_N_E=a}]);