(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3195],{14136:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/partners",function(){return s(33444)}])},64534:function(e,a,s){"use strict";s.d(a,{k:function(){return r}});var n=s(85893),t=s(88194),r=function(e){var a=e.className,s=e.children;return(0,n.jsxs)("div",{className:"text-sm bg-[#F2F6FB] md:grid print:flex print:bg-white relative",id:"main",children:[(0,n.jsx)(t.v2,{}),(0,n.jsx)("main",{"data-scroll":"scroll",className:"p-2 md:p-4 lg:p-8 md:px-12 space-y-4 h-screen overflow-y-auto print:overflow-y-hidden overflow-x-visible print:h-auto print:p-0 print:space-y-0 ".concat(a),children:s})]})}},94567:function(e,a,s){"use strict";s.d(a,{KR:function(){return u},sC:function(){return x},M5:function(){return y},Iy:function(){return g},Nj:function(){return b}});var n=s(85893),t=s(67294),r=s(96486),i=s(20704),c=function(e){try{return(0,r.pick)(e,Object.keys(i.oL))}catch(a){return{}}},l=s(61503),o=s(60764),u=function(e){var a=e.guid,s=e.setLoading,r=(0,l.aM)("api/partners/".concat(a)),i=r.data,u=r.status,d=r.isLoading;(0,t.useEffect)((function(){s(d)}),[d]);var p=c(i);(function(e){try{return JSON.parse(e.extra_data)}catch(a){return!1}})(i)&&(p.extra_data=JSON.parse(i.extra_data));var m="edit-partner-".concat(u);return(0,n.jsx)(o.T4,{data:i,initialValues:p},m)},d=s(88194),p=s(26042),m=s(99534),x=function(e){var a=e.options,s=(0,l.NS)("api/partners",a),t=s.data,r=(0,m.Z)(s,["data"]),i=r.isLoading,c=r.isError,o=r.isSuccess;return(0,n.jsxs)("div",{className:"flex-1 space-y-4",children:[i&&(0,n.jsx)(d.gb,{}),c&&(0,n.jsx)(d.jj,{}),o&&(0,n.jsx)(y,(0,p.Z)({},t)),o&&(0,n.jsx)(d.fr,(0,p.Z)({},r))]})},f=s(29815),h=s(4374),j=s(25487),v=s(27106),N=s(89315),w=s(56070),y=function(e){var a=e.pages,s=(0,h.$)().t,r=(0,l.M_)().company,i=t.useCallback((function(e){var a=e.guid,t=e.has_access;return(0,n.jsxs)("div",{className:"render-action",children:[(0,n.jsx)(v.Z,{className:"render-action-btn text-primary",href:"/partners/view?guid=".concat(a),children:(0,n.jsx)("i",{className:"fas fa-eye"})}),(0,n.jsx)(v.Z,{className:"text-base flex items-center justify-center rounded-full text-primary",href:"/partners/file?guid=".concat(a),title:s("partners.customerFile"),children:(0,n.jsx)("i",{className:"fas fa-file-invoice"})}),1==t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v.Z,{className:"render-action-btn text-primary",href:"/partners/edit?guid=".concat(a),children:(0,n.jsx)("i",{className:"fas fa-pen"})}),(0,n.jsx)(N.vS,{guid:a,small:!0,api:"partners",removeFunction:j.Y5,redirect:"/partners"})]})]})}),[r]),c=[{name:s("partners.name"),field:"name",cellClassName:"whitespace-nowrap flex-1 sm:min-w-[18rem]",columnClassName:"whitespace-nowrap"},{name:s("partners.type"),field:"type",cellClassName:"whitespace-nowrap sm:w-44",columnClassName:"whitespace-nowrap"},{name:s("companies.name"),field:"company_name",cellClassName:"whitespace-nowrap sm:w-44",columnClassName:"whitespace-nowrap"},{name:s("actions"),cellClassName:"whitespace-nowrap justify-between",columnClassName:"whitespace-nowrap sm:w-28",renderRecordCell:i}],o=(a||[]).reduce((function(e,a){return(0,f.Z)(e).concat((0,f.Z)(a))}),[]);return(0,n.jsx)(w.Z,{columns:c,data:o,keyFunction:function(e){return e.guid}})},g=function(e){var a=e.guid,s=(0,l.aM)("api/partners/".concat(a)),t=s.data,r=s.status;return(0,n.jsxs)("div",{className:"flex",children:["loading"===r&&(0,n.jsx)(d.gb,{}),"error"===r&&(0,n.jsx)(d.jj,{}),"success"===r&&(0,n.jsx)(b,(0,p.Z)({},t))]})},b=function(e){var a=e.guid,s=e.name,t=e.company_name,r=e.type,i=e.created_at,c=e.extra_data,l=e.cui,o=e.email,u=e.phone,p=e.regcom,m=e.has_access,x=(0,h.$)().t,v=JSON.parse(c),w=Object.keys(v).map((function(e){return{key:x(e),value:x(v[e])}})),y=[{key:x("type"),value:r},{key:x("companies.name"),value:t},{key:x("cui"),value:l},{key:x("regcom"),value:p},{key:x("phone"),value:u},{key:x("email"),value:o}].concat((0,f.Z)(w));return(0,n.jsxs)("div",{className:"flex flex-col flex-1 gap-4",children:[(0,n.jsxs)("div",{className:"flex flex-row w-full justify-between items-center",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"title",children:x("partners.details")}),(0,n.jsx)(d.cs,{date:i,text:x("created")})]}),1==m&&(0,n.jsxs)("div",{className:"flex items-center space-x-2 justify-between py-5 ",children:[(0,n.jsx)(d.zx,{className:"button secondary",href:"/partners/edit?guid=".concat(a),children:(0,n.jsx)("i",{className:"far fa-pen-to-square"})}),(0,n.jsx)(N.vS,{guid:a,api:"partners",removeFunction:j.Y5,redirect:"/partners"})]})]}),(0,n.jsx)("div",{className:"flex sm:flex-row flex-col gap-4",children:(0,n.jsx)(d.gn,{title:s,data:y})})]})}},33444:function(e,a,s){"use strict";s.r(a);var n=s(26042),t=s(828),r=s(85893),i=s(67294),c=s(4374),l=s(88194),o=s(34913),u=s(76166),d=s(64534),p=s(94567),m=s(61503);a.default=function(){var e=(0,c.$)().t,a=(0,m.M_)({},"partners"),s=a.options,x=a.setOptions,f=(0,t.Z)((0,m.dd)(),2),h=f[0],j=f[1],v=(0,i.useCallback)((function(e){x((function(a){return(0,n.Z)({},a,e)})),j.hide()}),[]);return(0,r.jsxs)(d.k,{children:[(0,r.jsxs)(l.h4,{name:e("partners.title"),btnLabel:(0,r.jsxs)(r.Fragment,{children:[e("addNew"),(0,r.jsx)("i",{className:"fas fa-plus"})]}),href:"/partners/add",children:[(0,r.jsx)(o.ol,{classNameInput:"border-b-1 py-3",className:"w-full pr-2",setOptions:x}),(0,r.jsx)(l.zx,{className:"button secondary",onClick:function(){return j.show()},children:(0,r.jsx)("i",{className:"fa-solid fa-sliders"})}),(0,r.jsx)(u.Z,{show:h,modal:j,children:(0,r.jsx)(l.kI,{onFilters:v,children:function(a){var s=a.handleFilter,n=a.applyFilters;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-col gap-10",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm text-white",children:e("filter")}),(0,r.jsx)("h3",{className:"title mt-2 text-white",children:e("products.title")})]}),(0,r.jsx)(o.Ky,{setOptions:s,id:"partners_type"}),(0,r.jsx)(o.KM,{id:"partners",setOptions:s})]}),(0,r.jsx)("div",{children:(0,r.jsx)(l.zx,{onClick:n,className:"filter-btn",children:e("applyFilters")})})]})}})})]}),(0,r.jsx)(p.sC,{options:s})]})}}},function(e){e.O(0,[9774,2888,179],(function(){return a=14136,e(e.s=a);var a}));var a=e.O();_N_E=a}]);