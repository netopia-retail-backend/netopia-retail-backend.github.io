"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[485],{64534:function(e,a,t){t.d(a,{k:function(){return r}});var s=t(85893),n=t(88194),r=function(e){var a=e.className,t=e.children;return(0,s.jsxs)("div",{className:"text-sm bg-[#F2F6FB] md:grid print:flex print:bg-white relative",id:"main",children:[(0,s.jsx)(n.v2,{}),(0,s.jsx)("main",{"data-scroll":"scroll",className:"p-2 md:p-4 lg:p-8 md:px-12 space-y-4 h-screen overflow-y-auto print:overflow-y-hidden overflow-x-visible print:h-auto print:p-0 print:space-y-0 ".concat(a),children:t})]})}},48470:function(e,a,t){t.d(a,{vt:function(){return m},ur:function(){return w},GX:function(){return x},HQ:function(){return k}});var s=t(26042),n=t(99534),r=t(85893),l=t(88194),c=t(61503),m=function(e){var a=e.options,t=(0,c.NS)("api/pos-cash-movements",a),m=t.data,o=t.status,i=(0,n.Z)(t,["data","status"]);return(0,r.jsxs)("div",{className:"flex-1 space-y-4",children:["loading"===o&&(0,r.jsx)(l.gb,{}),"error"===o&&(0,r.jsx)(l.jj,{}),"success"===o&&(0,r.jsx)(w,(0,s.Z)({},m)),(0,r.jsx)(l.fr,(0,s.Z)({},i))]})},o=t(25230),i=t(29815),u=t(67294),d=t(4374),p=t(56070),w=function(e){var a=e.pages,t=(0,d.$)().t,s=(0,u.useCallback)((function(e){var a=e.data;return(0,r.jsxs)("span",{children:[" ",a.cashierName]})}),[]),n=[{name:t("cashierName"),cellClassName:"whitespace-nowrap flex-1 sm:min-w-[18rem]",columnClassName:"whitespace-nowrap",renderRecordCell:s},{name:t("createdAt"),field:"created_at",format:o.vc,dateFormat:"dd/MM/yyyy",cellClassName:"whitespace-nowrap sm:w-48",columnClassName:"whitespace-nowrap text-right"},{name:t("location"),field:"location_name",cellClassName:"whitespace-nowrap flex-1 sm:min-w-[18rem]",columnClassName:"whitespace-nowrap"},{name:t("company"),field:"company_name",cellClassName:"whitespace-nowrap flex-1 sm:w-48",columnClassName:"whitespace-nowrap"},{name:t("amount"),field:"amount",format:o.Lx,cellClassName:"whitespace-nowrap sm:w-36 sm:text-right",columnClassName:"whitespace-nowrap"},{name:t("type"),field:"type",cellClassName:"whitespace-nowrap capitalize sm:w-36",columnClassName:"whitespace-nowrap"}],l=(a||[]).reduce((function(e,a){return(0,i.Z)(e).concat((0,i.Z)(a))}),[]);return(0,r.jsx)(p.Z,{keyFunction:function(e){return e.guid},columns:n,data:l})},f=t(27106),h=function(e){var a=e.pages,t=(0,d.$)().t,s=(0,u.useCallback)((function(e){var a=e.guid;return(0,r.jsx)(f.Z,{className:"render-action-btn text-primary",href:"/pos-day-reports/view?guid=".concat(a),children:(0,r.jsx)("i",{className:"fas fa-eye"})})}),[]),n=[{name:t("locations.name"),field:"location_name",cellClassName:"whitespace-nowrap flex-1 sm:min-w-[16rem]",columnClassName:"whitespace-nowrap"},{name:t("companies.name"),field:"company_name",cellClassName:"whitespace-nowrap flex-1 sm:min-w-[16rem]",columnClassName:"whitespace-nowrap"},{name:t("number"),field:"number",cellClassName:"whitespace-nowrap sm:w-36",columnClassName:"whitespace-nowrap"},{name:t("dateStart"),field:"date_start",format:o.vc,dateFormat:"dd/MM/yyyy",cellClassName:"whitespace-nowrap sm:w-46",columnClassName:"whitespace-nowrap"},{name:t("dateEnd"),field:"date_end",format:o.vc,dateFormat:"dd/MM/yyyy",cellClassName:"whitespace-nowrap sm:w-46",columnClassName:"whitespace-nowrap"},{name:t("amount"),field:"amount_total",format:o.Lx,cellClassName:"whitespace-nowrap sm:text-right sm:w-36",columnClassName:"whitespace-nowrap text-right"},{name:t("actions"),field:"number",cellClassName:"whitespace-nowrap sm:w-36",renderRecordCell:s}],c=(a||[]).reduce((function(e,a){return(0,i.Z)(e).concat((0,i.Z)(a))}),[]);return(0,r.jsx)(l.zI,{keyFunction:function(e){return e.guid},columns:n,data:c})},x=function(e){var a=e.options,t=(0,c.NS)("api/pos-day-reports",a),m=t.data,o=t.status,i=(0,n.Z)(t,["data","status"]);return(0,r.jsxs)("div",{className:"flex-1 space-y-4",children:["loading"===o&&(0,r.jsx)(l.gb,{}),"error"===o&&(0,r.jsx)(l.jj,{}),"success"===o&&(0,r.jsx)(h,(0,s.Z)({},m)),(0,r.jsx)(l.fr,(0,s.Z)({},i))]})},y=t(32912),N=t(19013),v=t(13882);function C(e){if((0,v.Z)(1,arguments),"string"===typeof e){var a=e.match(/(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(?:\.(\d{0,7}))?(?:Z|(.)(\d{2}):?(\d{2})?)?/);return a?new Date(Date.UTC(+a[1],+a[2]-1,+a[3],+a[4]-(+a[9]||0)*("-"==a[8]?-1:1),+a[5]-(+a[10]||0)*("-"==a[8]?-1:1),+a[6],+((a[7]||"0")+"00").substring(0,3))):new Date(NaN)}return(0,N.default)(e)}var j=function(e){var a=e.documents_list,t=(0,d.$)().t,s=(0,u.useCallback)((function(e){var a=e.guid;return(0,r.jsx)(l.zx,{className:"render-action-btn text-primary",href:"/view-document?guid=".concat(a),children:(0,r.jsx)("i",{className:"fas fa-eye"})})}),[]),n=[{name:t("date"),cellClassName:"whitespace-nowrap sm:w-46 pt-4 sm:pt-0 flex-1",columnClassName:"whitespace-nowrap",renderRecordCell:function(e){var a=e.date;return(0,y.default)(C(a),"dd/MM/yyyy kk:mm:ss")}},{name:t("number"),field:"number",cellClassName:"whitespace-nowrap sm:w-36",columnClassName:"whitespace-nowrap"},{name:t("paymentMethod"),cellClassName:"whitespace-nowrap sm:min-w-48 flex-1",columnClassName:"whitespace-nowrap",renderRecordCell:function(e){var a=e.extra_data.paymentMethods;return(0,r.jsx)(r.Fragment,{children:a.map((function(e){return t("paymentMethods.".concat(e.name))})).join(" / ")})}},{name:t("amount"),field:"total",format:o.Lx,cellClassName:"whitespace-nowrap sm:w-36 sm:text-right",columnClassName:"whitespace-nowrap"},{name:t("actions"),cellClassName:"whitespace-nowrap",columnClassName:"whitespace-nowrap sm:w-36 sm:text-center",renderRecordCell:s}];return(0,r.jsx)(l.zI,{keyFunction:function(e){return e.guid},columns:n,data:a})},g=function(e){var a=e.created_at,t=e.documents_list,s=e.number,n=e.location_name,c=e.date_start,m=e.date_end,u=e.amount_total,p=e.device_unique_id,w=e.amounts_by_type,f=e.vat_breakdown,h=(0,d.$)().t,x=w?Object.keys(w).map((function(e){return{key:h("paymentMethods.".concat(e)),value:(0,o.Lx)(w[e])}})):[],N=f.map((function(e){var a=e.total,t=e.vat_rate,s=e.vat_sum;return[{key:(0,r.jsxs)(r.Fragment,{children:[h("valueTva")," ",t,"%"]}),value:(0,o.Lx)(a)},{key:(0,r.jsxs)(r.Fragment,{children:[h("vat")," ",t,"%"]}),value:s}]})).reduce((function(e,a){return(0,i.Z)(e).concat((0,i.Z)(a))}),[]),v=[{key:h("location"),value:n},{key:h("number"),value:s},{key:h("fiscalId"),value:p},{key:h("dateStart"),value:(0,y.default)(C(c),"dd/MM/yyyy kk:mm:ss")},{key:h("dateEnd"),value:(0,y.default)(C(m),"dd/MM/yyyy kk:mm:ss")}].concat((0,i.Z)(x),[{key:h("amount"),value:u}],(0,i.Z)(N));return(0,r.jsxs)("div",{className:"flex flex-col flex-1 gap-4",children:[(0,r.jsx)("div",{className:"flex flex-row w-full justify-between items-center",children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"title",children:[" ",h("zReport.title")]}),(0,r.jsx)(l.cs,{date:a,text:h("created")})]})}),(0,r.jsx)("div",{className:"flex sm:flex-row flex-col gap-4",children:(0,r.jsx)(l.gn,{title:h("details"),data:v})}),(0,r.jsx)(j,{documents_list:t})]})},k=function(e){var a=e.guid,t=(0,c.aM)("api/pos-day-reports/".concat(a)),n=t.data,m=t.status;return(0,r.jsxs)("div",{className:"flex",children:["loading"===m&&(0,r.jsx)(l.gb,{}),"error"===m&&(0,r.jsx)(l.jj,{}),"success"===m&&(0,r.jsx)(g,(0,s.Z)({},n))]})}}}]);