(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9072],{59072:function(t,e,s){"use strict";s.d(e,{XL:function(){return j}});s(21160);s(52606);function r(t,e,s,n,o,a){if(o-n<=s)return;const h=n+o>>1;i(t,e,h,n,o,a%2),r(t,e,s,n,h-1,a+1),r(t,e,s,h+1,o,a+1)}function i(t,e,s,r,o,a){for(;o>r;){if(o-r>600){const n=o-r+1,h=s-r+1,u=Math.log(n),c=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*c*(n-c)/n)*(h-n/2<0?-1:1);i(t,e,s,Math.max(r,Math.floor(s-h*c/n+p)),Math.min(o,Math.floor(s+(n-h)*c/n+p)),a)}const h=e[2*s+a];let u=r,c=o;for(n(t,e,r,s),e[2*o+a]>h&&n(t,e,r,o);u<c;){for(n(t,e,u,c),u++,c--;e[2*u+a]<h;)u++;for(;e[2*c+a]>h;)c--}e[2*r+a]===h?n(t,e,r,c):(c++,n(t,e,c,o)),c<=s&&(r=c+1),s<=c&&(o=c-1)}}function n(t,e,s,r){o(t,s,r),o(e,2*s,2*r),o(e,2*s+1,2*r+1)}function o(t,e,s){const r=t[e];t[e]=t[s],t[s]=r}function a(t,e,s,r){const i=t-s,n=e-r;return i*i+n*n}const h=t=>t[0],u=t=>t[1];class c{constructor(t,e=h,s=u,i=64,n=Float64Array){this.nodeSize=i,this.points=t;const o=t.length<65536?Uint16Array:Uint32Array,a=this.ids=new o(t.length),c=this.coords=new n(2*t.length);for(let r=0;r<t.length;r++)a[r]=r,c[2*r]=e(t[r]),c[2*r+1]=s(t[r]);r(a,c,i,0,a.length-1,0)}range(t,e,s,r){return function(t,e,s,r,i,n,o){const a=[0,t.length-1,0],h=[];let u,c;for(;a.length;){const p=a.pop(),l=a.pop(),f=a.pop();if(l-f<=o){for(let o=f;o<=l;o++)u=e[2*o],c=e[2*o+1],u>=s&&u<=i&&c>=r&&c<=n&&h.push(t[o]);continue}const d=Math.floor((f+l)/2);u=e[2*d],c=e[2*d+1],u>=s&&u<=i&&c>=r&&c<=n&&h.push(t[d]);const g=(p+1)%2;(0===p?s<=u:r<=c)&&(a.push(f),a.push(d-1),a.push(g)),(0===p?i>=u:n>=c)&&(a.push(d+1),a.push(l),a.push(g))}return h}(this.ids,this.coords,t,e,s,r,this.nodeSize)}within(t,e,s){return function(t,e,s,r,i,n){const o=[0,t.length-1,0],h=[],u=i*i;for(;o.length;){const c=o.pop(),p=o.pop(),l=o.pop();if(p-l<=n){for(let i=l;i<=p;i++)a(e[2*i],e[2*i+1],s,r)<=u&&h.push(t[i]);continue}const f=Math.floor((l+p)/2),d=e[2*f],g=e[2*f+1];a(d,g,s,r)<=u&&h.push(t[f]);const m=(c+1)%2;(0===c?s-i<=d:r-i<=g)&&(o.push(l),o.push(f-1),o.push(m)),(0===c?s+i>=d:r+i>=g)&&(o.push(f+1),o.push(p),o.push(m))}return h}(this.ids,this.coords,t,e,s,this.nodeSize)}}const p={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},l=Math.fround||(f=new Float32Array(1),t=>(f[0]=+t,f[0]));var f;class d{constructor(t){this.options=M(Object.create(p),t),this.trees=new Array(this.options.maxZoom+1)}load(t){const{log:e,minZoom:s,maxZoom:r,nodeSize:i}=this.options;e&&console.time("total time");const n=`prepare ${t.length} points`;e&&console.time(n),this.points=t;let o=[];for(let a=0;a<t.length;a++)t[a].geometry&&o.push(m(t[a],a));this.trees[r+1]=new c(o,w,C,i,Float32Array),e&&console.timeEnd(n);for(let a=r;a>=s;a--){const t=+Date.now();o=this._cluster(o,a),this.trees[a]=new c(o,w,C,i,Float32Array),e&&console.log("z%d: %d clusters in %dms",a,o.length,+Date.now()-t)}return e&&console.timeEnd("total time"),this}getClusters(t,e){let s=((t[0]+180)%360+360)%360-180;const r=Math.max(-90,Math.min(90,t[1]));let i=180===t[2]?180:((t[2]+180)%360+360)%360-180;const n=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]>=360)s=-180,i=180;else if(s>i){const t=this.getClusters([s,r,180,n],e),o=this.getClusters([-180,r,i,n],e);return t.concat(o)}const o=this.trees[this._limitZoom(e)],a=o.range(y(s),x(n),y(i),x(r)),h=[];for(const u of a){const t=o.points[u];h.push(t.numPoints?_(t):this.points[t.index])}return h}getChildren(t){const e=this._getOriginId(t),s=this._getOriginZoom(t),r="No cluster with the specified id.",i=this.trees[s];if(!i)throw new Error(r);const n=i.points[e];if(!n)throw new Error(r);const o=this.options.radius/(this.options.extent*Math.pow(2,s-1)),a=i.within(n.x,n.y,o),h=[];for(const u of a){const e=i.points[u];e.parentId===t&&h.push(e.numPoints?_(e):this.points[e.index])}if(0===h.length)throw new Error(r);return h}getLeaves(t,e,s){e=e||10,s=s||0;const r=[];return this._appendLeaves(r,t,e,s,0),r}getTile(t,e,s){const r=this.trees[this._limitZoom(t)],i=Math.pow(2,t),{extent:n,radius:o}=this.options,a=o/n,h=(s-a)/i,u=(s+1+a)/i,c={features:[]};return this._addTileFeatures(r.range((e-a)/i,h,(e+1+a)/i,u),r.points,e,s,i,c),0===e&&this._addTileFeatures(r.range(1-a/i,h,1,u),r.points,i,s,i,c),e===i-1&&this._addTileFeatures(r.range(0,h,a/i,u),r.points,-1,s,i,c),c.features.length?c:null}getClusterExpansionZoom(t){let e=this._getOriginZoom(t)-1;for(;e<=this.options.maxZoom;){const s=this.getChildren(t);if(e++,1!==s.length)break;t=s[0].properties.cluster_id}return e}_appendLeaves(t,e,s,r,i){const n=this.getChildren(e);for(const o of n){const e=o.properties;if(e&&e.cluster?i+e.point_count<=r?i+=e.point_count:i=this._appendLeaves(t,e.cluster_id,s,r,i):i<r?i++:t.push(o),t.length===s)break}return i}_addTileFeatures(t,e,s,r,i,n){for(const o of t){const t=e[o],a=t.numPoints;let h,u,c;if(a)h=v(t),u=t.x,c=t.y;else{const e=this.points[t.index];h=e.properties,u=y(e.geometry.coordinates[0]),c=x(e.geometry.coordinates[1])}const p={type:1,geometry:[[Math.round(this.options.extent*(u*i-s)),Math.round(this.options.extent*(c*i-r))]],tags:h};let l;a?l=t.id:this.options.generateId?l=t.index:this.points[t.index].id&&(l=this.points[t.index].id),void 0!==l&&(p.id=l),n.features.push(p)}}_limitZoom(t){return Math.max(this.options.minZoom,Math.min(Math.floor(+t),this.options.maxZoom+1))}_cluster(t,e){const s=[],{radius:r,extent:i,reduce:n,minPoints:o}=this.options,a=r/(i*Math.pow(2,e));for(let h=0;h<t.length;h++){const r=t[h];if(r.zoom<=e)continue;r.zoom=e;const i=this.trees[e+1],u=i.within(r.x,r.y,a),c=r.numPoints||1;let p=c;for(const t of u){const s=i.points[t];s.zoom>e&&(p+=s.numPoints||1)}if(p>c&&p>=o){let t=r.x*c,o=r.y*c,a=n&&c>1?this._map(r,!0):null;const l=(h<<5)+(e+1)+this.points.length;for(const s of u){const h=i.points[s];if(h.zoom<=e)continue;h.zoom=e;const u=h.numPoints||1;t+=h.x*u,o+=h.y*u,h.parentId=l,n&&(a||(a=this._map(r,!0)),n(a,this._map(h)))}r.parentId=l,s.push(g(t/p,o/p,l,p,a))}else if(s.push(r),p>1)for(const t of u){const r=i.points[t];r.zoom<=e||(r.zoom=e,s.push(r))}}return s}_getOriginId(t){return t-this.points.length>>5}_getOriginZoom(t){return(t-this.points.length)%32}_map(t,e){if(t.numPoints)return e?M({},t.properties):t.properties;const s=this.points[t.index].properties,r=this.options.map(s);return e&&r===s?M({},r):r}}function g(t,e,s,r,i){return{x:l(t),y:l(e),zoom:1/0,id:s,parentId:-1,numPoints:r,properties:i}}function m(t,e){const[s,r]=t.geometry.coordinates;return{x:l(y(s)),y:l(x(r)),zoom:1/0,index:e,parentId:-1}}function _(t){return{type:"Feature",id:t.id,properties:v(t),geometry:{type:"Point",coordinates:[(e=t.x,360*(e-.5)),k(t.y)]}};var e}function v(t){const e=t.numPoints,s=e>=1e4?`${Math.round(e/1e3)}k`:e>=1e3?Math.round(e/100)/10+"k":e;return M(M({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:s})}function y(t){return t/360+.5}function x(t){const e=Math.sin(t*Math.PI/180),s=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return s<0?0:s>1?1:s}function k(t){const e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function M(t,e){for(const s in e)t[s]=e[s];return t}function w(t){return t.x}function C(t){return t.y}var b=s(62991),P=s.n(b);function E(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(s[r[i]]=t[r[i]])}return s}class L{constructor({markers:t,position:e}){this.markers=t,e&&(e instanceof google.maps.LatLng?this._position=e:this._position=new google.maps.LatLng(e))}get bounds(){if(0!==this.markers.length||this._position)return this.markers.reduce(((t,e)=>t.extend(e.getPosition())),new google.maps.LatLngBounds(this._position,this._position))}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter((t=>t.getVisible())).length}push(t){this.markers.push(t)}delete(){this.marker&&(this.marker.setMap(null),delete this.marker),this.markers.length=0}}class O{constructor({maxZoom:t=16}){this.maxZoom=t}noop({markers:t}){return A(t)}}const A=t=>t.map((t=>new L({position:t.getPosition(),markers:[t]})));class z extends O{constructor(t){var{maxZoom:e,radius:s=60}=t,r=E(t,["maxZoom","radius"]);super({maxZoom:e}),this.superCluster=new d(Object.assign({maxZoom:this.maxZoom,radius:s},r)),this.state={zoom:null}}calculate(t){let e=!1;if(!P()(t.markers,this.markers)){e=!0,this.markers=[...t.markers];const s=this.markers.map((t=>({type:"Feature",geometry:{type:"Point",coordinates:[t.getPosition().lng(),t.getPosition().lat()]},properties:{marker:t}})));this.superCluster.load(s)}const s={zoom:t.map.getZoom()};return e||this.state.zoom>this.maxZoom&&s.zoom>this.maxZoom||(e=e||!P()(this.state,s)),this.state=s,e&&(this.clusters=this.cluster(t)),{clusters:this.clusters,changed:e}}cluster({map:t}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(this.transformCluster.bind(this))}transformCluster({geometry:{coordinates:[t,e]},properties:s}){if(s.cluster)return new L({markers:this.superCluster.getLeaves(s.cluster_id,1/0).map((t=>t.properties.marker)),position:new google.maps.LatLng({lat:e,lng:t})});{const t=s.marker;return new L({markers:[t],position:t.getPosition()})}}}class Z{constructor(t,e){this.markers={sum:t.length};const s=e.map((t=>t.count)),r=s.reduce(((t,e)=>t+e),0);this.clusters={count:e.length,markers:{mean:r/e.length,sum:r,min:Math.min(...s),max:Math.max(...s)}}}}class S{render({count:t,position:e},s){const r=t>Math.max(10,s.clusters.markers.mean)?"#ff0000":"#0000ff",i=window.btoa(`\n  <svg fill="${r}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240">\n    <circle cx="120" cy="120" opacity=".6" r="70" />\n    <circle cx="120" cy="120" opacity=".3" r="90" />\n    <circle cx="120" cy="120" opacity=".2" r="110" />\n  </svg>`);return new google.maps.Marker({position:e,icon:{url:`data:image/svg+xml;base64,${i}`,scaledSize:new google.maps.Size(45,45)},label:{text:String(t),color:"rgba(255,255,255,0.9)",fontSize:"12px"},title:`Cluster of ${t} markers`,zIndex:Number(google.maps.Marker.MAX_ZINDEX)+t})}}class I{constructor(){!function(t,e){for(let s in e.prototype)t.prototype[s]=e.prototype[s]}(I,google.maps.OverlayView)}}var q;!function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"}(q||(q={}));const T=(t,e,s)=>{s.fitBounds(e.bounds)};class j extends I{constructor({map:t,markers:e=[],algorithm:s=new z({}),renderer:r=new S,onClusterClick:i=T}){super(),this.markers=[...e],this.clusters=[],this.algorithm=s,this.renderer=r,this.onClusterClick=i,t&&this.setMap(t)}addMarker(t,e){this.markers.includes(t)||(this.markers.push(t),e||this.render())}addMarkers(t,e){t.forEach((t=>{this.addMarker(t,!0)})),e||this.render()}removeMarker(t,e){const s=this.markers.indexOf(t);return-1!==s&&(t.setMap(null),this.markers.splice(s,1),e||this.render(),!0)}removeMarkers(t,e){let s=!1;return t.forEach((t=>{s=this.removeMarker(t,!0)||s})),s&&!e&&this.render(),s}clearMarkers(t){this.markers.length=0,t||this.render()}render(){const t=this.getMap();if(t instanceof google.maps.Map&&this.getProjection()){google.maps.event.trigger(this,q.CLUSTERING_BEGIN,this);const{clusters:e,changed:s}=this.algorithm.calculate({markers:this.markers,map:t,mapCanvasProjection:this.getProjection()});(s||void 0==s)&&(this.reset(),this.clusters=e,this.renderClusters()),google.maps.event.trigger(this,q.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach((t=>t.setMap(null))),this.clusters.forEach((t=>t.delete())),this.clusters=[]}renderClusters(){const t=new Z(this.markers,this.clusters),e=this.getMap();this.clusters.forEach((s=>{1===s.markers.length?s.marker=s.markers[0]:(s.marker=this.renderer.render(s,t),this.onClusterClick&&s.marker.addListener("click",(t=>{google.maps.event.trigger(this,q.CLUSTER_CLICK,s),this.onClusterClick(t,s,e)}))),s.marker.setMap(e)}))}}},68317:function(t){function e(t,e,s,r){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,s,r)}e.prototype.run=function(t,e,s,r){this._init(t,e,s,r);for(var i=0;i<this._datasetLength;i++)if(1!==this._visited[i]){this._visited[i]=1;var n=this._regionQuery(i);if(n.length<this.minPts)this.noise.push(i);else{var o=this.clusters.length;this.clusters.push([]),this._addToCluster(i,o),this._expandCluster(o,n)}}return this.clusters},e.prototype._init=function(t,e,s,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),s&&(this.minPts=s),r&&(this.distance=r)},e.prototype._expandCluster=function(t,e){for(var s=0;s<e.length;s++){var r=e[s];if(1!==this._visited[r]){this._visited[r]=1;var i=this._regionQuery(r);i.length>=this.minPts&&(e=this._mergeArrays(e,i))}1!==this._assigned[r]&&this._addToCluster(r,t)}},e.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var e=[],s=0;s<this._datasetLength;s++){this.distance(this.dataset[t],this.dataset[s])<this.epsilon&&e.push(s)}return e},e.prototype._mergeArrays=function(t,e){for(var s=e.length,r=0;r<s;r++){var i=e[r];t.indexOf(i)<0&&t.push(i)}return t},e.prototype._euclideanDistance=function(t,e){for(var s=0,r=Math.min(t.length,e.length);r--;)s+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(s)},t.exports&&(t.exports=e)},63781:function(t){function e(t,e,s){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,s)}e.prototype.init=function(t,e,s){this.assignments=[],this.centroids=[],"undefined"!==typeof t&&(this.dataset=t),"undefined"!==typeof e&&(this.k=e),"undefined"!==typeof s&&(this.distance=s)},e.prototype.run=function(t,e){this.init(t,e);for(var s=this.dataset.length,r=0;r<this.k;r++)this.centroids[r]=this.randomCentroid();for(var i=!0;i;){i=this.assign();for(var n=0;n<this.k;n++){for(var o=new Array(c),a=0,h=0;h<c;h++)o[h]=0;for(var u=0;u<s;u++){var c=this.dataset[u].length;if(n===this.assignments[u]){for(h=0;h<c;h++)o[h]+=this.dataset[u][h];a++}}if(a>0){for(h=0;h<c;h++)o[h]/=a;this.centroids[n]=o}else this.centroids[n]=this.randomCentroid(),i=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,s=this.dataset.length-1;do{e=Math.round(Math.random()*s),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,s=this.dataset.length,r=0;r<s;r++)(t=this.argmin(this.dataset[r],this.centroids,this.distance))!=this.assignments[r]&&(this.assignments[r]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=new Array(this.k),s=0;s<this.assignments.length;s++)"undefined"===typeof e[t=this.assignments[s]]&&(e[t]=[]),e[t].push(s);return e},e.prototype.argmin=function(t,e,s){for(var r,i=Number.MAX_VALUE,n=0,o=e.length,a=0;a<o;a++)(r=s(t,e[a]))<i&&(i=r,n=a);return n},e.prototype.distance=function(t,e){for(var s=0,r=Math.min(t.length,e.length);r--;){var i=t[r]-e[r];s+=i*i}return Math.sqrt(s)},t.exports&&(t.exports=e)},73763:function(t,e,s){if(t.exports)var r=s(57985);function i(t,e,s,r){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,s,r)}i.prototype.run=function(t,e,s,i){this._init(t,e,s,i);for(var n=0,o=this.dataset.length;n<o;n++)if(1!==this._processed[n]){this._processed[n]=1,this.clusters.push([n]);var a=this.clusters.length-1;this._orderedList.push(n);var h=new r(null,null,"asc"),u=this._regionQuery(n);void 0!==this._distanceToCore(n)&&(this._updateQueue(n,u,h),this._expandCluster(a,h))}return this.clusters},i.prototype.getReachabilityPlot=function(){for(var t=[],e=0,s=this._orderedList.length;e<s;e++){var r=this._orderedList[e],i=this._reachability[r];t.push([r,i])}return t},i.prototype._init=function(t,e,s,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),s&&(this.minPts=s),r&&(this.distance=r)},i.prototype._updateQueue=function(t,e,s){var r=this;this._coreDistance=this._distanceToCore(t),e.forEach((function(e){if(void 0===r._processed[e]){var i=r.distance(r.dataset[t],r.dataset[e]),n=Math.max(r._coreDistance,i);void 0===r._reachability[e]?(r._reachability[e]=n,s.insert(e,n)):n<r._reachability[e]&&(r._reachability[e]=n,s.remove(e),s.insert(e,n))}}))},i.prototype._expandCluster=function(t,e){for(var s=e.getElements(),r=0,i=s.length;r<i;r++){var n=s[r];if(void 0===this._processed[n]){var o=this._regionQuery(n);this._processed[n]=1,this.clusters[t].push(n),this._orderedList.push(n),void 0!==this._distanceToCore(n)&&(this._updateQueue(n,o,e),this._expandCluster(t,e))}}},i.prototype._distanceToCore=function(t){for(var e=this.epsilon,s=0;s<e;s++){if(this._regionQuery(t,s).length>=this.minPts)return s}},i.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var s=[],r=0,i=this.dataset.length;r<i;r++)this.distance(this.dataset[t],this.dataset[r])<e&&s.push(r);return s},i.prototype._euclideanDistance=function(t,e){for(var s=0,r=Math.min(t.length,e.length);r--;)s+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(s)},t.exports&&(t.exports=i)},57985:function(t){function e(t,e,s){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,s)}e.prototype.insert=function(t,e){for(var s=this._queue.length,r=s;r--;){var i=this._priorities[r];"desc"===this._sorting?e>i&&(s=r):e<i&&(s=r)}this._insertAt(t,e,s)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;){if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,s=this._queue.length;e<s;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,s){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var r=0;r<t.length;r++)this.insert(t[r],e[r])}s&&(this._sorting=s)},e.prototype._insertAt=function(t,e,s){this._queue.length===s?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(s,0,t),this._priorities.splice(s,0,e))},t.exports&&(t.exports=e)},52606:function(t,e,s){t.exports&&(t.exports={DBSCAN:s(68317),KMEANS:s(63781),OPTICS:s(73763),PriorityQueue:s(57985)})},62991:function(t){"use strict";t.exports=function t(e,s){if(e===s)return!0;if(e&&s&&"object"==typeof e&&"object"==typeof s){if(e.constructor!==s.constructor)return!1;var r,i,n;if(Array.isArray(e)){if((r=e.length)!=s.length)return!1;for(i=r;0!==i--;)if(!t(e[i],s[i]))return!1;return!0}if(e instanceof Map&&s instanceof Map){if(e.size!==s.size)return!1;for(i of e.entries())if(!s.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],s.get(i[0])))return!1;return!0}if(e instanceof Set&&s instanceof Set){if(e.size!==s.size)return!1;for(i of e.entries())if(!s.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(s)){if((r=e.length)!=s.length)return!1;for(i=r;0!==i--;)if(e[i]!==s[i])return!1;return!0}if(e.constructor===RegExp)return e.source===s.source&&e.flags===s.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===s.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===s.toString();if((r=(n=Object.keys(e)).length)!==Object.keys(s).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(s,n[i]))return!1;for(i=r;0!==i--;){var o=n[i];if(!t(e[o],s[o]))return!1}return!0}return e!==e&&s!==s}},85697:function(t){"use strict";t.exports={eudist:function(t,e,s){for(var r=t.length,i=0,n=0;n<r;n++){var o=(t[n]||0)-(e[n]||0);i+=o*o}return s?Math.sqrt(i):i},mandist:function(t,e,s){for(var r=t.length,i=0,n=0;n<r;n++)i+=Math.abs((t[n]||0)-(e[n]||0));return s?Math.sqrt(i):i},dist:function(t,e,s){var r=Math.abs(t-e);return s?r:r*r}}},97035:function(t,e,s){"use strict";var r=s(85697),i=r.eudist,n=r.dist;t.exports={kmrand:function(t,e){for(var s={},r=[],i=e<<2,n=t.length,o=t[0].length>0;r.length<e&&i-- >0;){var a=t[Math.floor(Math.random()*n)],h=o?a.join("_"):""+a;s[h]||(s[h]=!0,r.push(a))}if(r.length<e)throw new Error("Error initializating clusters");return r},kmpp:function(t,e){var s=t[0].length?i:n,r=[],o=t.length,a=t[0].length>0,h=t[Math.floor(Math.random()*o)];a&&h.join("_");for(r.push(h);r.length<e;){for(var u=[],c=r.length,p=0,l=[],f=0;f<o;f++){for(var d=1/0,g=0;g<c;g++){var m=s(t[f],r[g]);m<=d&&(d=m)}u[f]=d}for(var _=0;_<o;_++)p+=u[_];for(var v=0;v<o;v++)l[v]={i:v,v:t[v],pr:u[v]/p,cs:0};l.sort((function(t,e){return t.pr-e.pr})),l[0].cs=l[0].pr;for(var y=1;y<o;y++)l[y].cs=l[y-1].cs+l[y].pr;for(var x=Math.random(),k=0;k<o-1&&l[k++].cs<x;);r.push(l[k-1].v)}return r}}},21160:function(t,e,s){"use strict";var r=s(85697),i=s(97035),n=r.eudist,o=(r.mandist,r.dist,i.kmrand),a=i.kmpp;function h(t,e,s){s=s||[];for(var r=0;r<t;r++)s[r]=e;return s}t.exports=function(t,e,s,r){var i=[],u=[],c=[],p=[],l=!1,f=r||1e4,d=t.length,g=t[0].length,m=g>0,_=[];if(s)i="kmrand"==s?o(t,e):"kmpp"==s?a(t,e):s;else for(var v={};i.length<e;){var y=Math.floor(Math.random()*d);v[y]||(v[y]=!0,i.push(t[y]))}do{h(e,0,_);for(var x=0;x<d;x++){for(var k=1/0,M=0,w=0;w<e;w++){(p=m?n(t[x],i[w]):Math.abs(t[x]-i[w]))<=k&&(k=p,M=w)}c[x]=M,_[M]++}for(var C=[],b=(u=[],0);b<e;b++)C[b]=m?h(g,0,C[b]):0,u[b]=i[b];if(m){for(var P=0;P<e;P++)i[P]=[];for(var E=0;E<d;E++)for(var L=C[c[E]],O=t[E],A=0;A<g;A++)L[A]+=O[A];l=!0;for(var z=0;z<e;z++){for(var Z=i[z],S=C[z],I=u[z],q=_[z],T=0;T<g;T++)Z[T]=S[T]/q||0;if(l)for(var j=0;j<g;j++)if(I[j]!=Z[j]){l=!1;break}}}else{for(var D=0;D<d;D++){C[c[D]]+=t[D]}for(var N=0;N<e;N++)i[N]=C[N]/_[N]||0;l=!0;for(var Q=0;Q<e;Q++)if(u[Q]!=i[Q]){l=!1;break}}l=l||--f<=0}while(!l);return{it:1e4-f,k:e,idxs:c,centroids:i}}}}]);